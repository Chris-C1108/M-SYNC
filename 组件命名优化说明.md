# M-SYNC 组件命名优化说明

## 1. 命名优化原则

### 1.1 专业性原则
- 使用行业标准术语，避免口语化表达
- 采用英文标识符，便于国际化和代码实现
- 遵循软件架构设计模式的命名惯例

### 1.2 一致性原则
- 统一的命名风格和格式
- 相同层级组件使用相同的命名模式
- 保持术语在整个系统中的一致性

### 1.3 明确性原则
- 组件名称能清晰反映其职责和功能
- 避免歧义和重复含义
- 支持快速理解系统架构

## 2. 核心组件命名对比

### 2.1 系统级组件

| 原命名 | 优化后命名 | 英文标识 | 优化理由 |
|--------|------------|----------|----------|
| 多设备协同 | 跨设备实时消息同步系统 | `Cross-Device Realtime Message Sync System` | 更准确描述系统功能，突出实时性 |
| 消息产生端 | 消息发布端 | `MessagePublisher` | 使用发布-订阅模式标准术语 |
| 服务端 | 消息代理服务 | `MessageBrokerService` | 明确中间件角色，符合消息中间件命名惯例 |
| PC端 | 消息订阅端/桌面代理 | `MessageSubscriber/DesktopAgent` | 明确订阅者角色，突出桌面环境特性 |

### 2.2 服务端模块

| 原命名 | 优化后命名 | 英文标识 | 优化理由 |
|--------|------------|----------|----------|
| Webhook接口 | 消息接入网关 | `MessageIngressGateway` | 更准确描述网关功能，使用微服务术语 |
| WebSocket长连接模块 | 实时消息分发器 | `RealtimeMessageDispatcher` | 突出实时分发功能，避免技术实现细节 |
| 连接池 | 连接池管理器 | `ConnectionPoolManager` | 明确管理职责 |
| 心跳机制 | 连接健康检查器 | `ConnectionHealthChecker` | 更专业的健康检查术语 |

### 2.3 数据和配置

| 原命名 | 优化后命名 | 英文标识 | 优化理由 |
|--------|------------|----------|----------|
| 秘密令牌 | API认证令牌 | `APIAuthToken` | 明确令牌用途和类型 |
| 用户密钥 | 用户API密钥 | `UserAPIKey` | 区分不同类型的密钥 |
| 配置文件 | 服务配置清单 | `ServiceConfigManifest` | 更正式的配置文件术语 |
| 消息体 | 消息载荷 | `MessagePayload` | 使用标准的消息系统术语 |

## 3. 接口和协议命名

### 3.1 HTTP接口

| 原命名 | 优化后命名 | 路径示例 | 优化理由 |
|--------|------------|----------|----------|
| `/api/v1/sync` | `/api/v1/messages/publish` | `POST /api/v1/messages/publish` | RESTful风格，语义更明确 |
| 同步接口 | 消息发布接口 | `MessagePublishEndpoint` | 明确接口功能 |

### 3.2 WebSocket协议

| 原命名 | 优化后命名 | 端点示例 | 优化理由 |
|--------|------------|----------|----------|
| `/ws` | `/ws/subscribe` | `wss://api.m-sync.com/ws/subscribe` | 明确WebSocket用途 |
| 长连接 | 订阅连接 | `SubscriptionConnection` | 突出订阅语义 |

### 3.3 消息协议

| 原命名 | 优化后命名 | 数据结构 | 优化理由 |
|--------|------------|----------|----------|
| `type` | `messageType` | `MessageType` | 避免通用词汇，增加语义 |
| `content` | `payload` | `MessagePayload` | 使用标准消息系统术语 |
| 消息类型 | 消息类型枚举 | `MessageTypeEnum` | 明确数据类型 |

## 4. 技术组件命名

### 4.1 Node.js组件

| 原命名 | 优化后命名 | 类名示例 | 优化理由 |
|--------|------------|----------|----------|
| 消息处理 | 消息处理器 | `MessageProcessor` | 明确处理器模式 |
| 剪贴板操作 | 剪贴板管理器 | `ClipboardManager` | 突出管理职责 |
| 浏览器打开 | 浏览器启动器 | `BrowserLauncher` | 明确启动器功能 |

### 4.2 配置管理

| 原命名 | 优化后命名 | 变量名示例 | 优化理由 |
|--------|------------|----------|----------|
| `config.json` | `service.config.json` | `SERVICE_CONFIG_PATH` | 明确配置文件用途 |
| 服务器地址 | 代理服务端点 | `BROKER_SERVICE_ENDPOINT` | 更准确的端点描述 |
| 用户凭证 | 认证凭据 | `AUTH_CREDENTIALS` | 标准认证术语 |

## 5. 系统服务命名

### 5.1 跨平台服务

| 平台 | 原命名 | 优化后命名 | 优化理由 |
|------|--------|------------|----------|
| Windows | PC端应用 | `MSyncDesktopSubscriber` | 品牌化+功能描述 |
| macOS | PC端应用 | `com.msync.desktop-subscriber` | 遵循macOS命名惯例 |
| Linux | PC端应用 | `msync-desktop-subscriber.service` | 遵循systemd命名惯例 |

### 5.2 Docker容器

| 原命名 | 优化后命名 | 镜像标签 | 优化理由 |
|--------|------------|----------|----------|
| 服务端 | 消息代理服务 | `msync/broker-service:latest` | 明确服务功能 |
| 数据库 | 持久化存储 | `msync/database:latest` | 突出存储职责 |

## 6. 日志和监控命名

### 6.1 日志组件

| 原命名 | 优化后命名 | 日志标识 | 优化理由 |
|--------|------------|----------|----------|
| 服务端日志 | 代理服务日志 | `[MessageBrokerService]` | 明确日志来源 |
| 连接日志 | 连接管理日志 | `[ConnectionManager]` | 突出管理功能 |
| 消息日志 | 消息处理日志 | `[MessageProcessor]` | 明确处理环节 |

### 6.2 监控指标

| 原命名 | 优化后命名 | 指标名称 | 优化理由 |
|--------|------------|----------|----------|
| 连接数 | 活跃订阅连接数 | `active_subscription_connections` | 更精确的指标描述 |
| 消息数 | 消息吞吐量 | `message_throughput_per_second` | 标准性能指标 |
| 延迟 | 端到端消息延迟 | `end_to_end_message_latency` | 明确延迟类型 |

## 7. 命名规范总结

### 7.1 命名风格统一

1. **类名**: PascalCase (如 `MessageBrokerService`)
2. **方法名**: camelCase (如 `handleMessage`)
3. **常量**: UPPER_SNAKE_CASE (如 `MAX_CONNECTION_COUNT`)
4. **配置键**: kebab-case (如 `broker-service-endpoint`)
5. **环境变量**: UPPER_SNAKE_CASE (如 `MSYNC_BROKER_PORT`)

### 7.2 术语标准化

1. **消息系统**: Publisher/Subscriber, Broker, Queue, Topic
2. **网络通信**: Gateway, Endpoint, Connection, Session
3. **认证授权**: Token, Credential, Authentication, Authorization
4. **系统管理**: Manager, Handler, Processor, Controller

### 7.3 避免的命名

1. **模糊术语**: "端"、"模块"、"组件"等通用词
2. **技术细节**: 避免在业务命名中暴露具体技术实现
3. **缩写**: 除非是行业标准缩写，否则使用完整单词
4. **中英混合**: 保持命名语言的一致性

## 8. 实施建议

### 8.1 渐进式重构

1. **第一阶段**: 更新文档和设计规范中的命名
2. **第二阶段**: 重构代码中的类名和接口名
3. **第三阶段**: 更新配置文件和环境变量
4. **第四阶段**: 统一日志和监控指标命名

### 8.2 团队协作

1. **命名词典**: 建立项目专用的术语词典
2. **代码审查**: 在代码审查中检查命名规范
3. **文档同步**: 确保文档与代码命名保持一致
4. **培训推广**: 向团队成员推广新的命名规范

通过这套专业化的命名规范，M-SYNC系统将具备更好的可读性、可维护性和专业性。
