2025-07-28 13:24:15 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync-dev.db"}
2025-07-28 13:24:15 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync-dev.db"}
2025-07-28 13:24:15 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 13:24:15 [INFO]: Database connected successfully
2025-07-28 13:24:15 [INFO]: Services initialized and registered successfully
2025-07-28 13:24:15 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 13:24:15 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 13:24:15 [INFO]: WebSocket service initialized
2025-07-28 13:24:15 [INFO]: Application initialized successfully
2025-07-28 13:24:15 [INFO]: Server started on 0.0.0.0:3000
2025-07-28 13:25:03 [INFO]: SIGINT received, shutting down gracefully
2025-07-28 13:25:03 [INFO]: WebSocket server closed {"component":"WebSocket"}
2025-07-28 13:25:03 [INFO]: Database connection closed {"component":"Database"}
2025-07-28 13:25:21 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync-dev.db"}
2025-07-28 13:25:21 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync-dev.db"}
2025-07-28 13:25:21 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 13:25:21 [INFO]: Database connected successfully
2025-07-28 13:25:21 [INFO]: Services initialized and registered successfully
2025-07-28 13:25:21 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 13:25:21 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 13:25:21 [INFO]: WebSocket service initialized
2025-07-28 13:25:21 [INFO]: Application initialized successfully
2025-07-28 13:25:21 [INFO]: Server started on 0.0.0.0:3000
2025-07-28 13:25:31 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync-dev.db"}
2025-07-28 13:25:31 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync-dev.db"}
2025-07-28 13:25:31 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 13:25:31 [INFO]: Database connected successfully
2025-07-28 13:25:31 [INFO]: Services initialized and registered successfully
2025-07-28 13:25:31 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 13:25:31 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 13:25:31 [INFO]: WebSocket service initialized
2025-07-28 13:25:31 [INFO]: Application initialized successfully
2025-07-28 13:25:31 [INFO]: Server started on 0.0.0.0:3000
2025-07-28 13:26:24 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync-dev.db"}
2025-07-28 13:26:24 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync-dev.db"}
2025-07-28 13:26:24 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 13:26:24 [INFO]: Database connected successfully
2025-07-28 13:26:24 [INFO]: Services initialized and registered successfully
2025-07-28 13:26:24 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 13:26:24 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 13:26:24 [INFO]: WebSocket service initialized
2025-07-28 13:26:24 [INFO]: Application initialized successfully
2025-07-28 13:26:24 [INFO]: Server started on 0.0.0.0:3000
2025-07-28 13:26:29 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"curl/8.13.0"}
2025-07-28 13:26:31 [INFO]: SIGINT received, shutting down gracefully
2025-07-28 13:26:31 [INFO]: WebSocket server closed {"component":"WebSocket"}
2025-07-28 13:26:31 [INFO]: Database connection closed {"component":"Database"}
2025-07-28 13:26:58 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync-dev.db"}
2025-07-28 13:26:58 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync-dev.db"}
2025-07-28 13:26:58 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 13:26:58 [INFO]: Database connected successfully
2025-07-28 13:26:58 [INFO]: Services initialized and registered successfully
2025-07-28 13:26:58 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 13:26:58 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 13:26:58 [INFO]: WebSocket service initialized
2025-07-28 13:26:58 [INFO]: Application initialized successfully
2025-07-28 13:26:58 [INFO]: Server started on 0.0.0.0:3000
2025-07-28 13:27:08 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Microsoft Windows 10.0.26100; zh-CN) PowerShell/7.5.2"}
2025-07-28 13:27:14 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync-dev.db"}
2025-07-28 13:27:14 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync-dev.db"}
2025-07-28 13:27:14 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 13:27:14 [INFO]: Database connected successfully
2025-07-28 13:27:14 [INFO]: Services initialized and registered successfully
2025-07-28 13:27:14 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 13:27:14 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 13:27:14 [INFO]: WebSocket service initialized
2025-07-28 13:27:14 [INFO]: Application initialized successfully
2025-07-28 13:27:14 [ERROR]: WebSocket server error: {"component":"WebSocket","code":"EADDRINUSE","errno":-4091,"syscall":"listen","address":"0.0.0.0","port":3000}
2025-07-28 13:27:58 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync-dev.db"}
2025-07-28 13:27:58 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync-dev.db"}
2025-07-28 13:27:58 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 13:27:58 [INFO]: Database connected successfully
2025-07-28 13:27:58 [INFO]: Services initialized and registered successfully
2025-07-28 13:27:58 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 13:27:58 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 13:27:58 [INFO]: WebSocket service initialized
2025-07-28 13:27:58 [INFO]: Application initialized successfully
2025-07-28 13:27:58 [INFO]: Server started on 0.0.0.0:3000
2025-07-28 13:28:06 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Microsoft Windows 10.0.26100; zh-CN) PowerShell/7.5.2"}
2025-07-28 13:28:15 [INFO]: POST /api/v1/auth/register {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Microsoft Windows 10.0.26100; zh-CN) PowerShell/7.5.2"}
2025-07-28 13:28:15 [INFO]: User registration attempt {"component":"AuthenticationService","username":"testuser","email":"test@example.com"}
2025-07-28 13:28:15 [INFO]: User registration started {"component":"AuthenticationService","username":"testuser","email":"test@example.com","deviceType":"web"}
2025-07-28 13:28:15 [INFO]: Creating new user {"component":"Database","username":"testuser","email":"test@example.com"}
2025-07-28 13:28:15 [ERROR]: Failed to create user: {"component":"Database"}
2025-07-28 13:28:15 [ERROR]: User registration failed: {"component":"AuthenticationService","username":"testuser","email":"test@example.com","error":"require(...).getDatabase is not a function"}
2025-07-28 13:28:15 [ERROR]: Registration failed {"component":"AuthenticationService","error":"require(...).getDatabase is not a function","username":"testuser"}
2025-07-28 13:28:36 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync-dev.db"}
2025-07-28 13:28:36 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync-dev.db"}
2025-07-28 13:28:36 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 13:28:36 [INFO]: Database connected successfully
2025-07-28 13:28:36 [INFO]: Services initialized and registered successfully
2025-07-28 13:28:36 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 13:28:36 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 13:28:36 [INFO]: WebSocket service initialized
2025-07-28 13:28:36 [INFO]: Application initialized successfully
2025-07-28 13:28:36 [ERROR]: WebSocket server error: {"component":"WebSocket","code":"EADDRINUSE","errno":-4091,"syscall":"listen","address":"0.0.0.0","port":3000}
2025-07-28 13:29:38 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync-dev.db"}
2025-07-28 13:29:38 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync-dev.db"}
2025-07-28 13:29:38 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 13:29:38 [INFO]: Database connected successfully
2025-07-28 13:29:38 [INFO]: Services initialized and registered successfully
2025-07-28 13:29:38 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 13:29:38 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 13:29:38 [INFO]: WebSocket service initialized
2025-07-28 13:29:38 [INFO]: Application initialized successfully
2025-07-28 13:29:38 [INFO]: Server started on 0.0.0.0:3001
2025-07-28 13:29:53 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Microsoft Windows 10.0.26100; zh-CN) PowerShell/7.5.2"}
2025-07-28 13:30:02 [INFO]: POST /api/v1/auth/register {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Microsoft Windows 10.0.26100; zh-CN) PowerShell/7.5.2"}
2025-07-28 13:30:02 [INFO]: User registration attempt {"component":"AuthenticationService","username":"testuser","email":"test@example.com"}
2025-07-28 13:30:02 [INFO]: User registration started {"component":"AuthenticationService","username":"testuser","email":"test@example.com","deviceType":"web"}
2025-07-28 13:30:02 [INFO]: Creating new user {"component":"Database","username":"testuser","email":"test@example.com"}
2025-07-28 13:30:02 [ERROR]: Failed to create user: {"component":"Database"}
2025-07-28 13:30:02 [ERROR]: User registration failed: {"component":"AuthenticationService","username":"testuser","email":"test@example.com","error":"require(...).getDatabase is not a function"}
2025-07-28 13:30:02 [ERROR]: Registration failed {"component":"AuthenticationService","error":"require(...).getDatabase is not a function","username":"testuser"}
2025-07-28 13:39:25 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync-dev.db"}
2025-07-28 13:39:25 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync-dev.db"}
2025-07-28 13:39:25 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 13:39:25 [INFO]: Database connected successfully
2025-07-28 13:39:25 [INFO]: Services initialized and registered successfully
2025-07-28 13:39:25 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 13:39:25 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 13:39:25 [INFO]: WebSocket service initialized
2025-07-28 13:39:25 [INFO]: Application initialized successfully
2025-07-28 13:39:25 [INFO]: Server started on 0.0.0.0:3001
2025-07-28 13:39:38 [INFO]: POST /api/v1/auth/register {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Microsoft Windows 10.0.26100; zh-CN) PowerShell/7.5.2"}
2025-07-28 13:39:38 [INFO]: User registration attempt {"component":"AuthenticationService","username":"testuser","email":"test@example.com"}
2025-07-28 13:39:38 [INFO]: User registration started {"component":"AuthenticationService","username":"testuser","email":"test@example.com","deviceType":"web"}
2025-07-28 13:39:38 [INFO]: Creating new user {"component":"Database","username":"testuser","email":"test@example.com"}
2025-07-28 13:39:39 [INFO]: User created successfully {"component":"Database","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","username":"testuser"}
2025-07-28 13:39:39 [INFO]: Creating new access token {"component":"Database","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","deviceType":"web","tokenName":"注册时创建"}
2025-07-28 13:39:39 [INFO]: Access token created successfully {"component":"Database","tokenId":"6be9ebf1-d819-4937-9599-9c22341f48ba","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","deviceType":"web"}
2025-07-28 13:39:39 [INFO]: User registration completed {"component":"AuthenticationService","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","username":"testuser","tokenId":"6be9ebf1-d819-4937-9599-9c22341f48ba"}
2025-07-28 13:39:39 [INFO]: User registered successfully {"component":"AuthenticationService","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","username":"testuser"}
2025-07-28 13:39:53 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Microsoft Windows 10.0.26100; zh-CN) PowerShell/7.5.2"}
2025-07-28 13:40:10 [INFO]: POST /api/v1/auth/login {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Microsoft Windows 10.0.26100; zh-CN) PowerShell/7.5.2"}
2025-07-28 13:40:10 [INFO]: User login attempt {"component":"AuthenticationService","username":"testuser"}
2025-07-28 13:40:10 [INFO]: User login attempt {"component":"AuthenticationService","username":"testuser","deviceType":"web"}
2025-07-28 13:40:11 [INFO]: Last login updated {"component":"Database","userId":"988420b0-ac8d-4464-b0af-8400bcea3155"}
2025-07-28 13:40:11 [INFO]: Creating new access token {"component":"Database","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","deviceType":"web","tokenName":"登录创建"}
2025-07-28 13:40:11 [INFO]: Access token created successfully {"component":"Database","tokenId":"b4728e1d-ecfa-4252-bd18-62f7380120f1","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","deviceType":"web"}
2025-07-28 13:40:11 [INFO]: User login successful {"component":"AuthenticationService","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","username":"testuser","tokenId":"b4728e1d-ecfa-4252-bd18-62f7380120f1"}
2025-07-28 13:40:11 [INFO]: User logged in successfully {"component":"AuthenticationService","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","username":"testuser"}
2025-07-28 13:42:29 [INFO]: POST /api/v1/auth/login {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Microsoft Windows 10.0.26100; zh-CN) PowerShell/7.5.2"}
2025-07-28 13:42:29 [INFO]: User login attempt {"component":"AuthenticationService","username":"testuser"}
2025-07-28 13:42:29 [INFO]: User login attempt {"component":"AuthenticationService","username":"testuser","deviceType":"web"}
2025-07-28 13:42:29 [INFO]: Last login updated {"component":"Database","userId":"988420b0-ac8d-4464-b0af-8400bcea3155"}
2025-07-28 13:42:29 [INFO]: Creating new access token {"component":"Database","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","deviceType":"web","tokenName":"登录创建"}
2025-07-28 13:42:29 [INFO]: Access token created successfully {"component":"Database","tokenId":"953fdfdb-c9e0-4793-883e-8d9bb13c3fdb","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","deviceType":"web"}
2025-07-28 13:42:29 [INFO]: User login successful {"component":"AuthenticationService","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","username":"testuser","tokenId":"953fdfdb-c9e0-4793-883e-8d9bb13c3fdb"}
2025-07-28 13:42:29 [INFO]: User logged in successfully {"component":"AuthenticationService","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","username":"testuser"}
2025-07-28 13:42:40 [INFO]: POST /api/v1/messages/publish {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Microsoft Windows 10.0.26100; zh-CN) PowerShell/7.5.2"}
2025-07-28 13:42:40 [INFO]: Publishing message {"component":"MessageIngressGateway","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","messageType":"TEXT","contentLength":27}
2025-07-28 13:42:40 [INFO]: Publishing message {"component":"MessageBrokerService","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","tokenId":"953fdfdb-c9e0-4793-883e-8d9bb13c3fdb","messageType":"TEXT","contentLength":27}
2025-07-28 13:42:40 [INFO]: Creating new message {"component":"Database","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","messageType":"TEXT","contentLength":27}
2025-07-28 13:42:41 [INFO]: Message created successfully {"component":"Database","messageId":"0e33d1b7-38a0-4718-b21e-06b18dc894ce","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","messageType":"TEXT"}
2025-07-28 13:42:41 [INFO]: Broadcasting message {"component":"MessageBrokerService","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","messageId":"0e33d1b7-38a0-4718-b21e-06b18dc894ce"}
2025-07-28 13:42:41 [INFO]: Message broadcasted successfully {"component":"MessageBrokerService","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","messageId":"0e33d1b7-38a0-4718-b21e-06b18dc894ce","sentCount":0}
2025-07-28 13:42:41 [INFO]: Message published successfully {"component":"MessageBrokerService","messageId":"0e33d1b7-38a0-4718-b21e-06b18dc894ce","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","deliveredTo":0}
2025-07-28 13:42:41 [INFO]: Message published successfully {"component":"MessageIngressGateway","messageId":"0e33d1b7-38a0-4718-b21e-06b18dc894ce","userId":"988420b0-ac8d-4464-b0af-8400bcea3155"}
2025-07-28 13:43:30 [INFO]: GET /api/v1/messages/history {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Microsoft Windows 10.0.26100; zh-CN) PowerShell/7.5.2"}
2025-07-28 13:43:44 [INFO]: GET /api/v1/messages/history {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Microsoft Windows 10.0.26100; zh-CN) PowerShell/7.5.2"}
2025-07-28 13:43:44 [INFO]: Fetching message history {"component":"MessageIngressGateway","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","page":"1","limit":"10"}
2025-07-28 13:43:44 [INFO]: Fetching message history {"component":"MessageBrokerService","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","page":1,"limit":10}
2025-07-28 13:43:54 [INFO]: GET /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Microsoft Windows 10.0.26100; zh-CN) PowerShell/7.5.2"}
2025-07-28 13:43:54 [INFO]: Fetching user tokens {"component":"TokenController","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","includeInactive":false}
2025-07-28 13:44:09 [INFO]: POST /api/v1/tokens/create {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Microsoft Windows 10.0.26100; zh-CN) PowerShell/7.5.2"}
2025-07-28 13:44:30 [INFO]: POST /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Microsoft Windows 10.0.26100; zh-CN) PowerShell/7.5.2"}
2025-07-28 13:44:30 [INFO]: Creating new token {"component":"TokenController","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","tokenName":"API测试Token","deviceType":"desktop"}
2025-07-28 13:44:30 [INFO]: Creating new access token {"component":"AuthenticationService","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","deviceType":"desktop","tokenName":"API测试Token"}
2025-07-28 13:44:30 [INFO]: Creating new access token {"component":"Database","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","deviceType":"desktop","tokenName":"API测试Token"}
2025-07-28 13:44:30 [INFO]: Access token created successfully {"component":"Database","tokenId":"d7e316df-3730-4621-861d-9e38111cb617","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","deviceType":"desktop"}
2025-07-28 13:44:30 [INFO]: Access token created successfully {"component":"AuthenticationService","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","tokenId":"d7e316df-3730-4621-861d-9e38111cb617"}
2025-07-28 13:44:30 [INFO]: Token created successfully {"component":"TokenController","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","tokenId":"d7e316df-3730-4621-861d-9e38111cb617","tokenName":"API测试Token"}
2025-07-28 13:44:41 [INFO]: GET /api/v1/tokens/current {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Microsoft Windows 10.0.26100; zh-CN) PowerShell/7.5.2"}
2025-07-28 13:50:42 [INFO]: GET /public/token-management.html {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 13:50:42 [INFO]: GET /favicon.ico {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 13:50:46 [INFO]: GET / {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 13:51:53 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync-dev.db"}
2025-07-28 13:51:53 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync-dev.db"}
2025-07-28 13:51:53 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 13:51:53 [INFO]: Database connected successfully
2025-07-28 13:51:53 [INFO]: Services initialized and registered successfully
2025-07-28 13:51:53 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 13:51:53 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 13:51:53 [INFO]: WebSocket service initialized
2025-07-28 13:51:53 [INFO]: Application initialized successfully
2025-07-28 13:51:54 [INFO]: Server started on 0.0.0.0:3001
2025-07-28 13:52:12 [INFO]: SIGINT received, shutting down gracefully
2025-07-28 13:52:12 [INFO]: WebSocket server closed {"component":"WebSocket"}
2025-07-28 13:52:12 [INFO]: Database connection closed {"component":"Database"}
2025-07-28 13:52:23 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync-dev.db"}
2025-07-28 13:52:23 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync-dev.db"}
2025-07-28 13:52:23 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 13:52:23 [INFO]: Database connected successfully
2025-07-28 13:52:23 [INFO]: Services initialized and registered successfully
2025-07-28 13:52:23 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 13:52:23 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 13:52:23 [INFO]: WebSocket service initialized
2025-07-28 13:52:23 [INFO]: Application initialized successfully
2025-07-28 13:52:23 [INFO]: Server started on 0.0.0.0:3000
2025-07-28 13:55:00 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync-dev.db"}
2025-07-28 13:55:00 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync-dev.db"}
2025-07-28 13:55:00 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 13:55:00 [INFO]: Database connected successfully
2025-07-28 13:55:00 [INFO]: Services initialized and registered successfully
2025-07-28 13:55:00 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 13:55:00 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 13:55:00 [INFO]: WebSocket service initialized
2025-07-28 13:55:00 [INFO]: Application initialized successfully
2025-07-28 13:55:00 [ERROR]: WebSocket server error: {"component":"WebSocket","code":"EADDRINUSE","errno":-4091,"syscall":"listen","address":"0.0.0.0","port":3000}
2025-07-28 13:55:50 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync-dev.db"}
2025-07-28 13:55:51 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync-dev.db"}
2025-07-28 13:55:51 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 13:55:51 [INFO]: Database connected successfully
2025-07-28 13:55:51 [INFO]: Services initialized and registered successfully
2025-07-28 13:55:51 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 13:55:51 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 13:55:51 [INFO]: WebSocket service initialized
2025-07-28 13:55:51 [INFO]: Application initialized successfully
2025-07-28 13:55:51 [INFO]: Server started on 0.0.0.0:3000
2025-07-28 13:57:08 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Microsoft Windows 10.0.26100; zh-CN) PowerShell/7.5.2"}
2025-07-28 14:00:04 [INFO]: GET /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 14:00:05 [INFO]: GET /favicon.ico {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 14:13:55 [INFO]: POST /api/v1/auth/login {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Microsoft Windows 10.0.26100; zh-CN) PowerShell/7.5.2"}
2025-07-28 14:13:55 [INFO]: User login attempt {"component":"AuthenticationService","username":"testuser"}
2025-07-28 14:13:55 [INFO]: User login attempt {"component":"AuthenticationService","username":"testuser","deviceType":"web"}
2025-07-28 14:13:56 [INFO]: Last login updated {"component":"Database","userId":"988420b0-ac8d-4464-b0af-8400bcea3155"}
2025-07-28 14:13:56 [INFO]: Creating new access token {"component":"Database","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","deviceType":"web","tokenName":"登录创建"}
2025-07-28 14:13:56 [INFO]: Access token created successfully {"component":"Database","tokenId":"004c2bd5-d712-439d-bc02-30897a1f1a31","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","deviceType":"web"}
2025-07-28 14:13:56 [INFO]: User login successful {"component":"AuthenticationService","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","username":"testuser","tokenId":"004c2bd5-d712-439d-bc02-30897a1f1a31"}
2025-07-28 14:13:56 [INFO]: User logged in successfully {"component":"AuthenticationService","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","username":"testuser"}
2025-07-28 14:19:07 [INFO]: GET /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 14:19:11 [INFO]: GET / {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 14:30:53 [INFO]: GET / {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 14:31:02 [INFO]: GET /index.html {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 14:34:15 [INFO]: GET / {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 14:36:01 [INFO]: GET / {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 14:36:06 [INFO]: GET /index {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 14:36:11 [INFO]: GET /index.html {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 14:40:04 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 14:40:04 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 14:40:04 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 14:40:04 [INFO]: Database connected successfully
2025-07-28 14:40:04 [INFO]: Services initialized and registered successfully
2025-07-28 14:40:04 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 14:40:04 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 14:40:04 [INFO]: WebSocket service initialized
2025-07-28 14:40:04 [INFO]: Application initialized successfully
2025-07-28 14:40:04 [INFO]: Server started on 0.0.0.0:3000
2025-07-28 14:40:31 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 14:40:31 [INFO]: GET /favicon.ico {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 14:45:45 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 14:45:48 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 14:47:21 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 14:49:37 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 14:49:37 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 14:49:37 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 14:49:37 [INFO]: Database connected successfully
2025-07-28 14:49:37 [INFO]: Services initialized and registered successfully
2025-07-28 14:49:37 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 14:49:37 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 14:49:37 [INFO]: WebSocket service initialized
2025-07-28 14:49:37 [INFO]: Application initialized successfully
2025-07-28 14:49:37 [INFO]: Server started on 0.0.0.0:3000
2025-07-28 14:50:01 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"curl/8.13.0"}
2025-07-28 14:50:15 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 14:50:20 [ERROR]: Unhandled error occurred {"error":"Expected property name or '}' in JSON at position 1 (line 1 column 2)","path":"/api/v1/auth/register","method":"POST","ip":"127.0.0.1","userAgent":"curl/8.13.0"}
SyntaxError: Expected property name or '}' in JSON at position 1 (line 1 column 2)
    at JSON.parse (<anonymous>)
    at parse (E:\coding\M-SYNC\server\node_modules\body-parser\lib\types\json.js:92:19)
    at E:\coding\M-SYNC\server\node_modules\body-parser\lib\read.js:128:18
    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)
    at invokeCallback (E:\coding\M-SYNC\server\node_modules\raw-body\index.js:238:16)
    at done (E:\coding\M-SYNC\server\node_modules\raw-body\index.js:227:7)
    at IncomingMessage.onEnd (E:\coding\M-SYNC\server\node_modules\raw-body\index.js:287:7)
    at IncomingMessage.emit (node:events:518:28)
    at endReadableNT (node:internal/streams/readable:1698:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
2025-07-28 14:50:28 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 14:50:30 [INFO]: POST /api/v1/auth/register {"ip":"127.0.0.1","userAgent":"curl/8.13.0"}
2025-07-28 14:50:30 [WARN]: Request validation failed {"path":"/register","method":"POST","errors":[{"field":"password","message":"\"password\" with value \"password123\" fails to match the required pattern: /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])/","value":"password123"}],"ip":"127.0.0.1"}
2025-07-28 14:50:34 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 14:50:38 [INFO]: POST /api/v1/auth/register {"ip":"127.0.0.1","userAgent":"curl/8.13.0"}
2025-07-28 14:50:38 [INFO]: User registration attempt {"component":"AuthenticationService","username":"testuser2","email":"test2@example.com"}
2025-07-28 14:50:38 [INFO]: User registration started {"component":"AuthenticationService","username":"testuser2","email":"test2@example.com","deviceType":"web"}
2025-07-28 14:50:38 [INFO]: Creating new user {"component":"Database","username":"testuser2","email":"test2@example.com"}
2025-07-28 14:50:38 [ERROR]: Failed to create user: {"component":"Database","errno":1,"code":"SQLITE_ERROR","__augmented":true}
2025-07-28 14:50:38 [ERROR]: User registration failed: {"component":"AuthenticationService","username":"testuser2","email":"test2@example.com","error":"SQLITE_ERROR: no such table: users"}
2025-07-28 14:50:38 [ERROR]: Registration failed {"component":"AuthenticationService","error":"SQLITE_ERROR: no such table: users","username":"testuser2"}
2025-07-28 14:50:57 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 14:50:59 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 14:51:42 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 14:51:42 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 14:51:42 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 14:51:42 [INFO]: Database connected successfully
2025-07-28 14:51:42 [INFO]: Services initialized and registered successfully
2025-07-28 14:51:42 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 14:51:42 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 14:51:42 [INFO]: WebSocket service initialized
2025-07-28 14:51:42 [INFO]: Application initialized successfully
2025-07-28 14:51:42 [INFO]: Server started on 0.0.0.0:3000
2025-07-28 14:52:00 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 14:52:15 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 14:52:15 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 14:52:15 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 14:52:15 [INFO]: Database connected successfully
2025-07-28 14:52:15 [INFO]: Services initialized and registered successfully
2025-07-28 14:52:15 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 14:52:15 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 14:52:15 [INFO]: WebSocket service initialized
2025-07-28 14:52:15 [INFO]: Application initialized successfully
2025-07-28 14:52:15 [ERROR]: WebSocket server error: {"component":"WebSocket","code":"EADDRINUSE","errno":-4091,"syscall":"listen","address":"0.0.0.0","port":3000}
2025-07-28 14:53:19 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 14:53:19 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 14:53:19 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 14:53:19 [INFO]: Database connected successfully
2025-07-28 14:53:19 [INFO]: Services initialized and registered successfully
2025-07-28 14:53:19 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 14:53:19 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 14:53:19 [INFO]: WebSocket service initialized
2025-07-28 14:53:19 [INFO]: Application initialized successfully
2025-07-28 14:53:19 [INFO]: Server started on 0.0.0.0:3000
2025-07-28 14:53:42 [INFO]: POST /api/v1/auth/register {"ip":"127.0.0.1","userAgent":"curl/8.13.0"}
2025-07-28 14:53:42 [INFO]: User registration attempt {"component":"AuthenticationService","username":"testuser3","email":"test3@example.com"}
2025-07-28 14:53:42 [INFO]: User registration started {"component":"AuthenticationService","username":"testuser3","email":"test3@example.com","deviceType":"web"}
2025-07-28 14:53:42 [INFO]: Creating new user {"component":"Database","username":"testuser3","email":"test3@example.com"}
2025-07-28 14:53:42 [ERROR]: Failed to create user: {"component":"Database","errno":1,"code":"SQLITE_ERROR","__augmented":true}
2025-07-28 14:53:42 [ERROR]: User registration failed: {"component":"AuthenticationService","username":"testuser3","email":"test3@example.com","error":"SQLITE_ERROR: no such table: users"}
2025-07-28 14:53:42 [ERROR]: Registration failed {"component":"AuthenticationService","error":"SQLITE_ERROR: no such table: users","username":"testuser3"}
2025-07-28 14:54:47 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 14:54:47 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 14:54:47 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 14:54:47 [INFO]: Database connected successfully
2025-07-28 14:54:47 [INFO]: Services initialized and registered successfully
2025-07-28 14:54:47 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 14:54:47 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 14:54:47 [INFO]: WebSocket service initialized
2025-07-28 14:54:47 [INFO]: Application initialized successfully
2025-07-28 14:54:47 [INFO]: Server started on 0.0.0.0:3000
2025-07-28 14:54:55 [INFO]: POST /api/v1/auth/register {"ip":"127.0.0.1","userAgent":"curl/8.13.0"}
2025-07-28 14:54:55 [INFO]: User registration attempt {"component":"AuthenticationService","username":"testuser4","email":"test4@example.com"}
2025-07-28 14:54:55 [INFO]: User registration started {"component":"AuthenticationService","username":"testuser4","email":"test4@example.com","deviceType":"web"}
2025-07-28 14:54:55 [INFO]: Creating new user {"component":"Database","username":"testuser4","email":"test4@example.com"}
2025-07-28 14:54:55 [INFO]: User created successfully {"component":"Database","userId":"7843d439-571f-4257-8079-ffbff2431893","username":"testuser4"}
2025-07-28 14:54:55 [INFO]: Creating new access token {"component":"Database","userId":"7843d439-571f-4257-8079-ffbff2431893","deviceType":"web","tokenName":"注册时创建"}
2025-07-28 14:54:55 [INFO]: Access token created successfully {"component":"Database","tokenId":"389c2be7-3541-47a1-b801-2477db0d6939","userId":"7843d439-571f-4257-8079-ffbff2431893","deviceType":"web"}
2025-07-28 14:54:55 [INFO]: User registration completed {"component":"AuthenticationService","userId":"7843d439-571f-4257-8079-ffbff2431893","username":"testuser4","tokenId":"389c2be7-3541-47a1-b801-2477db0d6939"}
2025-07-28 14:54:55 [INFO]: User registered successfully {"component":"AuthenticationService","userId":"7843d439-571f-4257-8079-ffbff2431893","username":"testuser4"}
2025-07-28 14:55:04 [INFO]: POST /api/v1/auth/login {"ip":"127.0.0.1","userAgent":"curl/8.13.0"}
2025-07-28 14:55:04 [INFO]: User login attempt {"component":"AuthenticationService","username":"testuser4"}
2025-07-28 14:55:04 [INFO]: User login attempt {"component":"AuthenticationService","username":"testuser4","deviceType":"web"}
2025-07-28 14:55:05 [INFO]: Last login updated {"component":"Database","userId":"7843d439-571f-4257-8079-ffbff2431893"}
2025-07-28 14:55:05 [INFO]: Creating new access token {"component":"Database","userId":"7843d439-571f-4257-8079-ffbff2431893","deviceType":"web","tokenName":"登录创建"}
2025-07-28 14:55:05 [INFO]: Access token created successfully {"component":"Database","tokenId":"3e469fb0-3868-408d-b48a-54adc381ed00","userId":"7843d439-571f-4257-8079-ffbff2431893","deviceType":"web"}
2025-07-28 14:55:05 [INFO]: User login successful {"component":"AuthenticationService","userId":"7843d439-571f-4257-8079-ffbff2431893","username":"testuser4","tokenId":"3e469fb0-3868-408d-b48a-54adc381ed00"}
2025-07-28 14:55:05 [INFO]: User logged in successfully {"component":"AuthenticationService","userId":"7843d439-571f-4257-8079-ffbff2431893","username":"testuser4"}
2025-07-28 15:03:28 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 15:07:20 [INFO]: SIGINT received, shutting down gracefully
2025-07-28 15:07:20 [INFO]: WebSocket server closed {"component":"WebSocket"}
2025-07-28 15:07:20 [INFO]: Database connection closed {"component":"Database"}
2025-07-28 15:07:38 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 15:07:38 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 15:07:38 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 15:07:38 [INFO]: Database connected successfully
2025-07-28 15:07:38 [INFO]: Services initialized and registered successfully
2025-07-28 15:07:38 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 15:07:38 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 15:07:38 [INFO]: WebSocket service initialized
2025-07-28 15:07:38 [INFO]: Application initialized successfully
2025-07-28 15:07:38 [INFO]: Server started on 0.0.0.0:3000
2025-07-28 15:08:04 [INFO]: GET /.well-known/appspecific/com.chrome.devtools.json {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 15:08:09 [INFO]: GET /.well-known/appspecific/com.chrome.devtools.json {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 15:09:15 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 15:14:51 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 15:14:51 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 15:14:51 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 15:14:51 [INFO]: Database connected successfully
2025-07-28 15:14:51 [INFO]: Services initialized and registered successfully
2025-07-28 15:14:51 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 15:14:51 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 15:14:51 [INFO]: WebSocket service initialized
2025-07-28 15:14:51 [INFO]: Application initialized successfully
2025-07-28 15:14:51 [ERROR]: WebSocket server error: {"component":"WebSocket","code":"EADDRINUSE","errno":-4091,"syscall":"listen","address":"0.0.0.0","port":3000}
2025-07-28 15:14:57 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 15:15:51 [INFO]: GET /pages/messages.html {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 15:15:57 [INFO]: GET /pages/messages.html {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 15:16:12 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 15:16:28 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 15:16:40 [INFO]: GET /pages/messages.html {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 15:26:27 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 15:26:27 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 15:26:28 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 15:26:28 [INFO]: Database connected successfully
2025-07-28 15:26:28 [INFO]: Services initialized and registered successfully
2025-07-28 15:26:28 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 15:26:28 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 15:26:28 [INFO]: WebSocket service initialized
2025-07-28 15:26:28 [INFO]: Application initialized successfully
2025-07-28 15:26:28 [INFO]: Server started on 0.0.0.0:3000
2025-07-28 15:26:54 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 15:26:56 [INFO]: GET /favicon.ico {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 15:26:59 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"curl/8.13.0"}
2025-07-28 15:27:11 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 15:29:53 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 15:30:52 [INFO]: POST /api/v1/auth/register {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 15:30:52 [WARN]: Request validation failed {"path":"/register","method":"POST","errors":[{"field":"username","message":"\"username\" must only contain alpha-numeric characters","value":"testuser_pw2"}],"ip":"127.0.0.1"}
2025-07-28 15:31:36 [INFO]: POST /api/v1/auth/register {"ip":"127.0.0.1","userAgent":"curl/8.13.0"}
2025-07-28 15:31:36 [WARN]: Request validation failed {"path":"/register","method":"POST","errors":[{"field":"username","message":"\"username\" must only contain alpha-numeric characters","value":"testuser_pw3"}],"ip":"127.0.0.1"}
2025-07-28 15:31:53 [INFO]: POST /api/v1/auth/register {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 15:31:53 [INFO]: User registration attempt {"component":"AuthenticationService","username":"testuserpw2","email":"playwright2@test.com"}
2025-07-28 15:31:53 [INFO]: User registration started {"component":"AuthenticationService","username":"testuserpw2","email":"playwright2@test.com","deviceType":"web"}
2025-07-28 15:31:53 [INFO]: Creating new user {"component":"Database","username":"testuserpw2","email":"playwright2@test.com"}
2025-07-28 15:31:54 [INFO]: User created successfully {"component":"Database","userId":"407cb62c-d440-4142-890f-42023f735089","username":"testuserpw2"}
2025-07-28 15:31:54 [INFO]: Creating new access token {"component":"Database","userId":"407cb62c-d440-4142-890f-42023f735089","deviceType":"web","tokenName":"注册时创建"}
2025-07-28 15:31:54 [INFO]: Access token created successfully {"component":"Database","tokenId":"befd3e9a-672c-4fa0-8cd1-25eab9b0ece4","userId":"407cb62c-d440-4142-890f-42023f735089","deviceType":"web"}
2025-07-28 15:31:54 [INFO]: User registration completed {"component":"AuthenticationService","userId":"407cb62c-d440-4142-890f-42023f735089","username":"testuserpw2","tokenId":"befd3e9a-672c-4fa0-8cd1-25eab9b0ece4"}
2025-07-28 15:31:54 [INFO]: User registered successfully {"component":"AuthenticationService","userId":"407cb62c-d440-4142-890f-42023f735089","username":"testuserpw2"}
2025-07-28 15:31:57 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 15:31:57 [INFO]: GET /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 15:31:57 [INFO]: Fetching user tokens {"component":"TokenController","userId":"407cb62c-d440-4142-890f-42023f735089","includeInactive":false}
2025-07-28 15:32:41 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 15:32:53 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 15:33:28 [INFO]: POST /api/v1/auth/login {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 15:33:28 [INFO]: User login attempt {"component":"AuthenticationService","username":"testuserpw2"}
2025-07-28 15:33:28 [INFO]: User login attempt {"component":"AuthenticationService","username":"testuserpw2","deviceType":"web"}
2025-07-28 15:33:29 [INFO]: Last login updated {"component":"Database","userId":"407cb62c-d440-4142-890f-42023f735089"}
2025-07-28 15:33:29 [INFO]: Creating new access token {"component":"Database","userId":"407cb62c-d440-4142-890f-42023f735089","deviceType":"web","tokenName":"登录创建"}
2025-07-28 15:33:29 [INFO]: Access token created successfully {"component":"Database","tokenId":"8622da38-b972-4fa8-b67f-49a3dd38724e","userId":"407cb62c-d440-4142-890f-42023f735089","deviceType":"web"}
2025-07-28 15:33:29 [INFO]: User login successful {"component":"AuthenticationService","userId":"407cb62c-d440-4142-890f-42023f735089","username":"testuserpw2","tokenId":"8622da38-b972-4fa8-b67f-49a3dd38724e"}
2025-07-28 15:33:29 [INFO]: User logged in successfully {"component":"AuthenticationService","userId":"407cb62c-d440-4142-890f-42023f735089","username":"testuserpw2"}
2025-07-28 15:33:30 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 15:33:30 [INFO]: GET /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 15:33:30 [INFO]: Fetching user tokens {"component":"TokenController","userId":"407cb62c-d440-4142-890f-42023f735089","includeInactive":false}
2025-07-28 15:34:28 [INFO]: POST /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 15:34:28 [WARN]: Request validation failed {"path":"/","method":"POST","errors":[{"field":"tokenName","message":"\"tokenName\" is required"},{"field":"deviceType","message":"\"deviceType\" is required"}],"ip":"127.0.0.1"}
2025-07-28 15:35:26 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 15:35:33 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 15:36:26 [INFO]: POST /api/v1/auth/login {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 15:36:26 [INFO]: User login attempt {"component":"AuthenticationService","username":"invaliduser"}
2025-07-28 15:36:26 [INFO]: User login attempt {"component":"AuthenticationService","username":"invaliduser","deviceType":"web"}
2025-07-28 15:36:26 [ERROR]: User login failed: {"component":"AuthenticationService","username":"invaliduser","error":"Invalid credentials"}
2025-07-28 15:36:26 [ERROR]: Login failed {"component":"AuthenticationService","error":"Invalid credentials","username":"invaliduser"}
2025-07-28 15:43:46 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 15:43:46 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 15:43:46 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 15:43:46 [INFO]: Database connected successfully
2025-07-28 15:43:46 [INFO]: Services initialized and registered successfully
2025-07-28 15:43:46 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 15:43:46 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 15:43:46 [INFO]: WebSocket service initialized
2025-07-28 15:43:46 [INFO]: Application initialized successfully
2025-07-28 15:43:46 [INFO]: Server started on 0.0.0.0:3000
2025-07-28 15:44:19 [INFO]: POST /api/v1/tokens {"ip":"127.0.0.1","userAgent":"curl/8.13.0"}
2025-07-28 15:44:19 [INFO]: Creating new token {"component":"TokenController","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","tokenName":"iOS快捷指令专用","deviceType":"ios_shortcuts"}
2025-07-28 15:44:19 [INFO]: Creating new access token {"component":"AuthenticationService","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","deviceType":"ios_shortcuts","tokenName":"iOS快捷指令专用"}
2025-07-28 15:44:19 [INFO]: Creating new access token {"component":"Database","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","deviceType":"ios_shortcuts","tokenName":"iOS快捷指令专用"}
2025-07-28 15:44:19 [INFO]: Access token created successfully {"component":"Database","tokenId":"0eb361c0-71c3-421b-8bd8-cc1eb54dd6d7","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","deviceType":"ios_shortcuts"}
2025-07-28 15:44:19 [INFO]: Access token created successfully {"component":"AuthenticationService","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","tokenId":"0eb361c0-71c3-421b-8bd8-cc1eb54dd6d7"}
2025-07-28 15:44:19 [INFO]: Token created successfully {"component":"TokenController","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","tokenId":"0eb361c0-71c3-421b-8bd8-cc1eb54dd6d7","tokenName":"iOS快捷指令专用"}
2025-07-28 15:45:11 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 15:47:21 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 15:47:21 [INFO]: GET /favicon.ico {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 15:47:48 [INFO]: POST /api/v1/auth/login {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 15:47:48 [INFO]: User login attempt {"component":"AuthenticationService","username":"testuserpw2"}
2025-07-28 15:47:48 [INFO]: User login attempt {"component":"AuthenticationService","username":"testuserpw2","deviceType":"web"}
2025-07-28 15:47:48 [INFO]: Last login updated {"component":"Database","userId":"407cb62c-d440-4142-890f-42023f735089"}
2025-07-28 15:47:48 [INFO]: Creating new access token {"component":"Database","userId":"407cb62c-d440-4142-890f-42023f735089","deviceType":"web","tokenName":"登录创建"}
2025-07-28 15:47:48 [INFO]: Access token created successfully {"component":"Database","tokenId":"417e2cbc-1a2b-457b-9d8d-2581a61c6f31","userId":"407cb62c-d440-4142-890f-42023f735089","deviceType":"web"}
2025-07-28 15:47:48 [INFO]: User login successful {"component":"AuthenticationService","userId":"407cb62c-d440-4142-890f-42023f735089","username":"testuserpw2","tokenId":"417e2cbc-1a2b-457b-9d8d-2581a61c6f31"}
2025-07-28 15:47:48 [INFO]: User logged in successfully {"component":"AuthenticationService","userId":"407cb62c-d440-4142-890f-42023f735089","username":"testuserpw2"}
2025-07-28 15:47:50 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 15:47:50 [INFO]: GET /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 15:47:50 [INFO]: Fetching user tokens {"component":"TokenController","userId":"407cb62c-d440-4142-890f-42023f735089","includeInactive":false}
2025-07-28 15:50:30 [INFO]: POST /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 15:50:31 [WARN]: Request validation failed {"path":"/","method":"POST","errors":[{"field":"tokenName","message":"\"tokenName\" is required"},{"field":"deviceType","message":"\"deviceType\" is required"}],"ip":"127.0.0.1"}
2025-07-28 16:01:28 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:01:28 [INFO]: GET /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:01:28 [INFO]: Fetching user tokens {"component":"TokenController","userId":"407cb62c-d440-4142-890f-42023f735089","includeInactive":false}
2025-07-28 16:01:59 [INFO]: POST /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:01:59 [WARN]: Request validation failed {"path":"/","method":"POST","errors":[{"field":"tokenName","message":"\"tokenName\" is required"},{"field":"deviceType","message":"\"deviceType\" is required"}],"ip":"127.0.0.1"}
2025-07-28 16:02:52 [INFO]: POST /api/v1/tokens {"ip":"127.0.0.1","userAgent":"curl/8.13.0"}
2025-07-28 16:02:52 [INFO]: Creating new token {"component":"TokenController","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","tokenName":"测试Token","deviceType":"ios_shortcuts"}
2025-07-28 16:02:52 [INFO]: Creating new access token {"component":"AuthenticationService","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","deviceType":"ios_shortcuts","tokenName":"测试Token"}
2025-07-28 16:02:52 [INFO]: Creating new access token {"component":"Database","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","deviceType":"ios_shortcuts","tokenName":"测试Token"}
2025-07-28 16:02:52 [INFO]: Access token created successfully {"component":"Database","tokenId":"523e9d2c-e092-4074-95cb-053e04523bfc","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","deviceType":"ios_shortcuts"}
2025-07-28 16:02:52 [INFO]: Access token created successfully {"component":"AuthenticationService","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","tokenId":"523e9d2c-e092-4074-95cb-053e04523bfc"}
2025-07-28 16:02:52 [INFO]: Token created successfully {"component":"TokenController","userId":"988420b0-ac8d-4464-b0af-8400bcea3155","tokenId":"523e9d2c-e092-4074-95cb-053e04523bfc","tokenName":"测试Token"}
2025-07-28 16:06:11 [INFO]: POST /api/v1/tokens {"ip":"127.0.0.1","userAgent":"curl/8.13.0"}
2025-07-28 16:06:11 [INFO]: Creating new token {"component":"TokenController","userId":"407cb62c-d440-4142-890f-42023f735089","tokenName":"测试Token2","deviceType":"ios_shortcuts"}
2025-07-28 16:06:12 [INFO]: Creating new access token {"component":"AuthenticationService","userId":"407cb62c-d440-4142-890f-42023f735089","deviceType":"ios_shortcuts","tokenName":"测试Token2"}
2025-07-28 16:06:12 [INFO]: Creating new access token {"component":"Database","userId":"407cb62c-d440-4142-890f-42023f735089","deviceType":"ios_shortcuts","tokenName":"测试Token2"}
2025-07-28 16:06:12 [INFO]: Access token created successfully {"component":"Database","tokenId":"fc431b9d-2078-458f-8a86-2ca7216ba5b3","userId":"407cb62c-d440-4142-890f-42023f735089","deviceType":"ios_shortcuts"}
2025-07-28 16:06:12 [INFO]: Access token created successfully {"component":"AuthenticationService","userId":"407cb62c-d440-4142-890f-42023f735089","tokenId":"fc431b9d-2078-458f-8a86-2ca7216ba5b3"}
2025-07-28 16:06:12 [INFO]: Token created successfully {"component":"TokenController","userId":"407cb62c-d440-4142-890f-42023f735089","tokenId":"fc431b9d-2078-458f-8a86-2ca7216ba5b3","tokenName":"测试Token2"}
2025-07-28 16:06:52 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:06:52 [INFO]: GET /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:06:53 [INFO]: Fetching user tokens {"component":"TokenController","userId":"407cb62c-d440-4142-890f-42023f735089","includeInactive":false}
2025-07-28 16:07:13 [INFO]: GET /pages/messages.html {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:08:55 [INFO]: POST /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:08:55 [WARN]: Request validation failed {"path":"/","method":"POST","errors":[{"field":"tokenName","message":"\"tokenName\" is required"},{"field":"deviceType","message":"\"deviceType\" is required"}],"ip":"127.0.0.1"}
2025-07-28 16:09:47 [INFO]: POST /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:09:47 [WARN]: Request validation failed {"path":"/","method":"POST","errors":[{"field":"tokenName","message":"\"tokenName\" is required"},{"field":"deviceType","message":"\"deviceType\" is required"}],"ip":"127.0.0.1"}
2025-07-28 16:09:50 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:09:50 [INFO]: GET /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:09:50 [INFO]: Fetching user tokens {"component":"TokenController","userId":"407cb62c-d440-4142-890f-42023f735089","includeInactive":false}
2025-07-28 16:09:53 [INFO]: POST /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:09:53 [WARN]: Request validation failed {"path":"/","method":"POST","errors":[{"field":"tokenName","message":"\"tokenName\" is required"},{"field":"deviceType","message":"\"deviceType\" is required"}],"ip":"127.0.0.1"}
2025-07-28 16:10:24 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 16:10:25 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 16:10:32 [INFO]: POST /api/v1/auth/login {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 16:10:32 [INFO]: User login attempt {"component":"AuthenticationService","username":"loadingi"}
2025-07-28 16:10:32 [INFO]: User login attempt {"component":"AuthenticationService","username":"loadingi","deviceType":"web"}
2025-07-28 16:10:32 [ERROR]: User login failed: {"component":"AuthenticationService","username":"loadingi","error":"Invalid credentials"}
2025-07-28 16:10:32 [ERROR]: Login failed {"component":"AuthenticationService","error":"Invalid credentials","username":"loadingi"}
2025-07-28 16:10:36 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 16:10:54 [INFO]: POST /api/v1/auth/register {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 16:10:54 [INFO]: User registration attempt {"component":"AuthenticationService","username":"loadingi","email":"loadingi@qq.com"}
2025-07-28 16:10:54 [INFO]: User registration started {"component":"AuthenticationService","username":"loadingi","email":"loadingi@qq.com","deviceType":"web"}
2025-07-28 16:10:54 [INFO]: Creating new user {"component":"Database","username":"loadingi","email":"loadingi@qq.com"}
2025-07-28 16:10:55 [INFO]: User created successfully {"component":"Database","userId":"6cc2e553-3ba8-45dd-84b2-5bb357cd633c","username":"loadingi"}
2025-07-28 16:10:55 [INFO]: Creating new access token {"component":"Database","userId":"6cc2e553-3ba8-45dd-84b2-5bb357cd633c","deviceType":"web","tokenName":"注册时创建"}
2025-07-28 16:10:55 [INFO]: Access token created successfully {"component":"Database","tokenId":"c3f43d7d-fb06-4176-9ff4-d0bb31309006","userId":"6cc2e553-3ba8-45dd-84b2-5bb357cd633c","deviceType":"web"}
2025-07-28 16:10:55 [INFO]: User registration completed {"component":"AuthenticationService","userId":"6cc2e553-3ba8-45dd-84b2-5bb357cd633c","username":"loadingi","tokenId":"c3f43d7d-fb06-4176-9ff4-d0bb31309006"}
2025-07-28 16:10:55 [INFO]: User registered successfully {"component":"AuthenticationService","userId":"6cc2e553-3ba8-45dd-84b2-5bb357cd633c","username":"loadingi"}
2025-07-28 16:10:58 [INFO]: GET /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 16:10:58 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 16:10:58 [INFO]: Fetching user tokens {"component":"TokenController","userId":"6cc2e553-3ba8-45dd-84b2-5bb357cd633c","includeInactive":false}
2025-07-28 16:11:18 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 16:11:18 [INFO]: GET /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 16:11:18 [INFO]: Fetching user tokens {"component":"TokenController","userId":"6cc2e553-3ba8-45dd-84b2-5bb357cd633c","includeInactive":false}
2025-07-28 16:11:43 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 16:11:44 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 16:11:44 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 16:11:44 [INFO]: Database connected successfully
2025-07-28 16:11:44 [INFO]: Services initialized and registered successfully
2025-07-28 16:11:44 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 16:11:44 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 16:11:44 [INFO]: WebSocket service initialized
2025-07-28 16:11:44 [INFO]: Application initialized successfully
2025-07-28 16:11:44 [INFO]: Server started on 0.0.0.0:3000
2025-07-28 16:12:13 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:12:14 [INFO]: GET /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:12:14 [INFO]: Fetching user tokens {"component":"TokenController","userId":"407cb62c-d440-4142-890f-42023f735089","includeInactive":false}
2025-07-28 16:12:57 [INFO]: POST /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:12:57 [WARN]: Request validation failed {"path":"/","method":"POST","errors":[{"field":"tokenName","message":"\"tokenName\" is required"},{"field":"deviceType","message":"\"deviceType\" is required"}],"ip":"127.0.0.1"}
2025-07-28 16:13:28 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"curl/8.13.0"}
2025-07-28 16:14:47 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:14:47 [INFO]: GET /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:14:47 [INFO]: Fetching user tokens {"component":"TokenController","userId":"407cb62c-d440-4142-890f-42023f735089","includeInactive":false}
2025-07-28 16:15:22 [INFO]: POST /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:15:23 [WARN]: Request validation failed {"path":"/","method":"POST","errors":[{"field":"tokenName","message":"\"tokenName\" is required"},{"field":"deviceType","message":"\"deviceType\" is required"}],"ip":"127.0.0.1"}
2025-07-28 16:17:34 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:17:34 [INFO]: GET /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:17:34 [INFO]: Fetching user tokens {"component":"TokenController","userId":"407cb62c-d440-4142-890f-42023f735089","includeInactive":false}
2025-07-28 16:18:08 [INFO]: POST /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:18:08 [WARN]: Request validation failed {"path":"/","method":"POST","errors":[{"field":"tokenName","message":"\"tokenName\" is required"},{"field":"deviceType","message":"\"deviceType\" is required"}],"ip":"127.0.0.1"}
2025-07-28 16:21:17 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 16:21:17 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 16:21:17 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 16:21:17 [INFO]: Database connected successfully
2025-07-28 16:21:17 [INFO]: Services initialized and registered successfully
2025-07-28 16:21:17 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 16:21:17 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 16:21:17 [INFO]: WebSocket service initialized
2025-07-28 16:21:17 [INFO]: Application initialized successfully
2025-07-28 16:21:17 [INFO]: Server started on 0.0.0.0:3000
2025-07-28 16:22:00 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 16:22:00 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 16:22:00 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 16:22:00 [INFO]: Database connected successfully
2025-07-28 16:22:00 [INFO]: Services initialized and registered successfully
2025-07-28 16:22:00 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 16:22:00 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 16:22:00 [INFO]: WebSocket service initialized
2025-07-28 16:22:00 [INFO]: Application initialized successfully
2025-07-28 16:22:00 [ERROR]: WebSocket server error: {"component":"WebSocket","code":"EADDRINUSE","errno":-4091,"syscall":"listen","address":"0.0.0.0","port":3000}
2025-07-28 16:22:55 [INFO]: GET /health {"ip":"127.0.0.1","userAgent":"curl/8.13.0"}
2025-07-28 16:23:05 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:23:05 [INFO]: GET /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:23:05 [INFO]: Fetching user tokens {"component":"TokenController","userId":"407cb62c-d440-4142-890f-42023f735089","includeInactive":false}
2025-07-28 16:23:32 [INFO]: POST /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:23:32 [WARN]: Request validation failed {"path":"/","method":"POST","errors":[{"field":"tokenName","message":"\"tokenName\" is required"},{"field":"deviceType","message":"\"deviceType\" is required"}],"ip":"127.0.0.1"}
2025-07-28 16:24:46 [INFO]: POST /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:24:46 [WARN]: Request validation failed {"path":"/","method":"POST","errors":[{"field":"tokenName","message":"\"tokenName\" is required"},{"field":"deviceType","message":"\"deviceType\" is required"}],"ip":"127.0.0.1"}
2025-07-28 16:25:19 [INFO]: GET /pages/messages.html {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 16:25:22 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 16:25:22 [INFO]: GET /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 16:25:22 [INFO]: Fetching user tokens {"component":"TokenController","userId":"6cc2e553-3ba8-45dd-84b2-5bb357cd633c","includeInactive":false}
2025-07-28 16:25:30 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 16:25:30 [INFO]: GET /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 16:25:30 [INFO]: Fetching user tokens {"component":"TokenController","userId":"6cc2e553-3ba8-45dd-84b2-5bb357cd633c","includeInactive":false}
2025-07-28 16:25:35 [INFO]: POST /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 16:25:35 [WARN]: Request validation failed {"path":"/","method":"POST","errors":[{"field":"tokenName","message":"\"tokenName\" is required"},{"field":"deviceType","message":"\"deviceType\" is required"}],"ip":"127.0.0.1"}
2025-07-28 16:27:58 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 16:27:58 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 16:27:58 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 16:27:58 [INFO]: Database connected successfully
2025-07-28 16:27:58 [INFO]: Services initialized and registered successfully
2025-07-28 16:27:58 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 16:27:58 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 16:27:58 [INFO]: WebSocket service initialized
2025-07-28 16:27:58 [INFO]: Application initialized successfully
2025-07-28 16:27:58 [ERROR]: WebSocket server error: {"component":"WebSocket","code":"EADDRINUSE","errno":-4091,"syscall":"listen","address":"0.0.0.0","port":3000}
2025-07-28 16:29:07 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 16:29:07 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 16:29:07 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 16:29:07 [INFO]: Database connected successfully
2025-07-28 16:29:07 [INFO]: Services initialized and registered successfully
2025-07-28 16:29:07 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 16:29:07 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 16:29:07 [INFO]: WebSocket service initialized
2025-07-28 16:29:07 [INFO]: Application initialized successfully
2025-07-28 16:29:07 [INFO]: Server started on 0.0.0.0:3000
2025-07-28 16:29:46 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 16:29:46 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 16:29:46 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 16:29:46 [INFO]: Database connected successfully
2025-07-28 16:29:46 [INFO]: Services initialized and registered successfully
2025-07-28 16:29:46 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 16:29:46 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 16:29:46 [INFO]: WebSocket service initialized
2025-07-28 16:29:46 [INFO]: Application initialized successfully
2025-07-28 16:29:46 [ERROR]: WebSocket server error: {"component":"WebSocket","code":"EADDRINUSE","errno":-4091,"syscall":"listen","address":"0.0.0.0","port":3000}
2025-07-28 16:31:08 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 16:31:08 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 16:31:08 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 16:31:08 [INFO]: Database connected successfully
2025-07-28 16:31:08 [INFO]: Services initialized and registered successfully
2025-07-28 16:31:08 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 16:31:08 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 16:31:08 [INFO]: WebSocket service initialized
2025-07-28 16:31:08 [INFO]: Application initialized successfully
2025-07-28 16:31:08 [INFO]: Server started on 0.0.0.0:3000
2025-07-28 16:35:16 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 16:35:16 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 16:35:16 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 16:35:16 [INFO]: Database connected successfully
2025-07-28 16:35:16 [INFO]: Services initialized and registered successfully
2025-07-28 16:35:16 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 16:35:16 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 16:35:16 [INFO]: WebSocket service initialized
2025-07-28 16:35:16 [INFO]: Application initialized successfully
2025-07-28 16:35:16 [ERROR]: WebSocket server error: {"component":"WebSocket","code":"EADDRINUSE","errno":-4091,"syscall":"listen","address":"0.0.0.0","port":3000}
2025-07-28 16:35:55 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 16:35:55 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 16:35:55 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 16:35:55 [INFO]: Database connected successfully
2025-07-28 16:35:55 [INFO]: Services initialized and registered successfully
2025-07-28 16:35:55 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 16:35:55 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 16:35:55 [INFO]: WebSocket service initialized
2025-07-28 16:35:55 [INFO]: Application initialized successfully
2025-07-28 16:35:55 [INFO]: Server started on 0.0.0.0:3000
2025-07-28 16:36:28 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:36:28 [INFO]: GET /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:36:28 [INFO]: Fetching user tokens {"component":"TokenController","userId":"407cb62c-d440-4142-890f-42023f735089","includeInactive":false}
2025-07-28 16:36:42 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:36:42 [INFO]: GET /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:36:42 [INFO]: Fetching user tokens {"component":"TokenController","userId":"407cb62c-d440-4142-890f-42023f735089","includeInactive":false}
2025-07-28 16:37:45 [INFO]: POST /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:37:45 [WARN]: Request validation failed {"path":"/","method":"POST","errors":[{"field":"tokenName","message":"\"tokenName\" is required"},{"field":"deviceType","message":"\"deviceType\" is required"}],"ip":"127.0.0.1"}
2025-07-28 16:38:10 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 16:38:10 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 16:38:10 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 16:38:10 [INFO]: Database connected successfully
2025-07-28 16:38:10 [INFO]: Services initialized and registered successfully
2025-07-28 16:38:10 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 16:38:10 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 16:38:10 [INFO]: WebSocket service initialized
2025-07-28 16:38:10 [INFO]: Application initialized successfully
2025-07-28 16:38:10 [ERROR]: WebSocket server error: {"component":"WebSocket","code":"EADDRINUSE","errno":-4091,"syscall":"listen","address":"0.0.0.0","port":3000}
2025-07-28 16:39:17 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 16:39:17 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 16:39:17 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 16:39:17 [INFO]: Database connected successfully
2025-07-28 16:39:17 [INFO]: Services initialized and registered successfully
2025-07-28 16:39:17 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 16:39:17 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 16:39:17 [INFO]: WebSocket service initialized
2025-07-28 16:39:17 [INFO]: Application initialized successfully
2025-07-28 16:39:17 [INFO]: Server started on 0.0.0.0:3000
2025-07-28 16:39:50 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:39:50 [INFO]: GET /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:39:50 [INFO]: Fetching user tokens {"component":"TokenController","userId":"407cb62c-d440-4142-890f-42023f735089","includeInactive":false}
2025-07-28 16:40:32 [INFO]: POST /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:40:32 [WARN]: Request validation failed {"path":"/","method":"POST","errors":[{"field":"tokenName","message":"\"tokenName\" is required"},{"field":"deviceType","message":"\"deviceType\" is required"}],"ip":"127.0.0.1"}
2025-07-28 16:42:20 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 16:42:20 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 16:42:20 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 16:42:20 [INFO]: Database connected successfully
2025-07-28 16:42:20 [INFO]: Services initialized and registered successfully
2025-07-28 16:42:20 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 16:42:20 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 16:42:20 [INFO]: WebSocket service initialized
2025-07-28 16:42:20 [INFO]: Application initialized successfully
2025-07-28 16:42:20 [INFO]: Server started on 0.0.0.0:3000
2025-07-28 16:42:52 [INFO]: GET /health {"ip":"127.0.0.1","userAgent":"curl/8.13.0"}
2025-07-28 16:43:09 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:43:09 [INFO]: GET /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:43:09 [INFO]: Fetching user tokens {"component":"TokenController","userId":"407cb62c-d440-4142-890f-42023f735089","includeInactive":false}
2025-07-28 16:43:40 [INFO]: POST /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:43:40 [WARN]: Request validation failed {"path":"/","method":"POST","errors":[{"field":"tokenName","message":"\"tokenName\" is required"},{"field":"deviceType","message":"\"deviceType\" is required"}],"ip":"127.0.0.1"}
2025-07-28 16:44:09 [INFO]: GET /health {"ip":"127.0.0.1","userAgent":"curl/8.13.0"}
2025-07-28 16:44:35 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 16:44:35 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 16:44:35 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 16:44:35 [INFO]: Database connected successfully
2025-07-28 16:44:35 [INFO]: Services initialized and registered successfully
2025-07-28 16:44:35 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 16:44:35 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 16:44:35 [INFO]: WebSocket service initialized
2025-07-28 16:44:35 [INFO]: Application initialized successfully
2025-07-28 16:44:35 [INFO]: Server started on 0.0.0.0:3000
2025-07-28 16:45:03 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"curl/8.13.0"}
2025-07-28 16:46:05 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:46:05 [INFO]: GET /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:46:05 [INFO]: Fetching user tokens {"component":"TokenController","userId":"407cb62c-d440-4142-890f-42023f735089","includeInactive":false}
2025-07-28 16:46:46 [INFO]: POST /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"}
2025-07-28 16:46:46 [WARN]: Request validation failed {"path":"/","method":"POST","errors":[{"field":"tokenName","message":"\"tokenName\" is required"},{"field":"deviceType","message":"\"deviceType\" is required"}],"ip":"127.0.0.1"}
2025-07-28 17:12:43 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:13:21 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:13:36 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:14:05 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:14:25 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:15:30 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:15:57 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:18:59 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 17:18:59 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 17:18:59 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 17:18:59 [INFO]: Database connected successfully
2025-07-28 17:18:59 [INFO]: Services initialized and registered successfully
2025-07-28 17:18:59 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 17:18:59 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 17:18:59 [INFO]: WebSocket service initialized
2025-07-28 17:18:59 [INFO]: Application initialized successfully
2025-07-28 17:18:59 [INFO]: Server started on 0.0.0.0:3000
2025-07-28 17:19:05 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:19:14 [INFO]: POST /api/v1/auth/login {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:19:14 [INFO]: User login attempt {"component":"AuthenticationService","username":"testuserpw2"}
2025-07-28 17:19:14 [INFO]: User login attempt {"component":"AuthenticationService","username":"testuserpw2","deviceType":"web"}
2025-07-28 17:19:14 [INFO]: Last login updated {"component":"Database","userId":"407cb62c-d440-4142-890f-42023f735089"}
2025-07-28 17:19:14 [INFO]: Creating new access token {"component":"Database","userId":"407cb62c-d440-4142-890f-42023f735089","deviceType":"web","tokenName":"登录创建"}
2025-07-28 17:19:14 [INFO]: Access token created successfully {"component":"Database","tokenId":"7ed6764a-2e35-4598-8443-8d98be24c378","userId":"407cb62c-d440-4142-890f-42023f735089","deviceType":"web"}
2025-07-28 17:19:14 [INFO]: User login successful {"component":"AuthenticationService","userId":"407cb62c-d440-4142-890f-42023f735089","username":"testuserpw2","tokenId":"7ed6764a-2e35-4598-8443-8d98be24c378"}
2025-07-28 17:19:14 [INFO]: User logged in successfully {"component":"AuthenticationService","userId":"407cb62c-d440-4142-890f-42023f735089","username":"testuserpw2"}
2025-07-28 17:19:14 [INFO]: POST /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:19:14 [WARN]: Request validation failed {"path":"/","method":"POST","errors":[{"field":"tokenName","message":"\"tokenName\" is required"},{"field":"deviceType","message":"\"deviceType\" is required"}],"ip":"127.0.0.1"}
2025-07-28 17:19:50 [INFO]: POST /api/v1/auth/login {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:19:50 [INFO]: User login attempt {"component":"AuthenticationService","username":"loadingi"}
2025-07-28 17:19:50 [INFO]: User login attempt {"component":"AuthenticationService","username":"loadingi","deviceType":"web"}
2025-07-28 17:19:52 [INFO]: Last login updated {"component":"Database","userId":"6cc2e553-3ba8-45dd-84b2-5bb357cd633c"}
2025-07-28 17:19:52 [INFO]: Creating new access token {"component":"Database","userId":"6cc2e553-3ba8-45dd-84b2-5bb357cd633c","deviceType":"web","tokenName":"登录创建"}
2025-07-28 17:19:52 [INFO]: Access token created successfully {"component":"Database","tokenId":"4cabd836-6cad-4245-a00b-9c6ce6ea81d9","userId":"6cc2e553-3ba8-45dd-84b2-5bb357cd633c","deviceType":"web"}
2025-07-28 17:19:52 [INFO]: User login successful {"component":"AuthenticationService","userId":"6cc2e553-3ba8-45dd-84b2-5bb357cd633c","username":"loadingi","tokenId":"4cabd836-6cad-4245-a00b-9c6ce6ea81d9"}
2025-07-28 17:19:53 [INFO]: User logged in successfully {"component":"AuthenticationService","userId":"6cc2e553-3ba8-45dd-84b2-5bb357cd633c","username":"loadingi"}
2025-07-28 17:19:53 [INFO]: POST /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:19:53 [WARN]: Request validation failed {"path":"/","method":"POST","errors":[{"field":"tokenName","message":"\"tokenName\" is required"},{"field":"deviceType","message":"\"deviceType\" is required"}],"ip":"127.0.0.1"}
2025-07-28 17:22:00 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 17:22:00 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 17:22:00 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 17:22:00 [INFO]: Database connected successfully
2025-07-28 17:22:00 [INFO]: Services initialized and registered successfully
2025-07-28 17:22:00 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 17:22:00 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 17:22:00 [INFO]: WebSocket service initialized
2025-07-28 17:22:00 [INFO]: Application initialized successfully
2025-07-28 17:22:00 [ERROR]: WebSocket server error: {"component":"WebSocket","code":"EADDRINUSE","errno":-4091,"syscall":"listen","address":"0.0.0.0","port":3000}
2025-07-28 17:22:29 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"curl/8.13.0"}
2025-07-28 17:24:02 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:24:02 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:24:02 [INFO]: GET /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:24:02 [INFO]: Fetching user tokens {"component":"TokenController","userId":"6cc2e553-3ba8-45dd-84b2-5bb357cd633c","includeInactive":false}
2025-07-28 17:24:11 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:24:16 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:24:24 [INFO]: POST /api/v1/auth/login {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:24:24 [INFO]: User login attempt {"component":"AuthenticationService","username":"loadingi"}
2025-07-28 17:24:24 [INFO]: User login attempt {"component":"AuthenticationService","username":"loadingi","deviceType":"web"}
2025-07-28 17:24:25 [INFO]: Last login updated {"component":"Database","userId":"6cc2e553-3ba8-45dd-84b2-5bb357cd633c"}
2025-07-28 17:24:25 [INFO]: Creating new access token {"component":"Database","userId":"6cc2e553-3ba8-45dd-84b2-5bb357cd633c","deviceType":"web","tokenName":"登录创建"}
2025-07-28 17:24:25 [INFO]: Access token created successfully {"component":"Database","tokenId":"f774aed6-36e3-4179-af61-b6ccca0f2bff","userId":"6cc2e553-3ba8-45dd-84b2-5bb357cd633c","deviceType":"web"}
2025-07-28 17:24:25 [INFO]: User login successful {"component":"AuthenticationService","userId":"6cc2e553-3ba8-45dd-84b2-5bb357cd633c","username":"loadingi","tokenId":"f774aed6-36e3-4179-af61-b6ccca0f2bff"}
2025-07-28 17:24:25 [INFO]: User logged in successfully {"component":"AuthenticationService","userId":"6cc2e553-3ba8-45dd-84b2-5bb357cd633c","username":"loadingi"}
2025-07-28 17:24:25 [INFO]: POST /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:24:25 [WARN]: Request validation failed {"path":"/","method":"POST","errors":[{"field":"tokenName","message":"\"tokenName\" is required"},{"field":"deviceType","message":"\"deviceType\" is required"}],"ip":"127.0.0.1"}
2025-07-28 17:24:45 [INFO]: POST /api/v1/auth/login {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:24:45 [INFO]: User login attempt {"component":"AuthenticationService","username":"testuserpw2"}
2025-07-28 17:24:45 [INFO]: User login attempt {"component":"AuthenticationService","username":"testuserpw2","deviceType":"web"}
2025-07-28 17:24:45 [INFO]: Last login updated {"component":"Database","userId":"407cb62c-d440-4142-890f-42023f735089"}
2025-07-28 17:24:45 [INFO]: Creating new access token {"component":"Database","userId":"407cb62c-d440-4142-890f-42023f735089","deviceType":"web","tokenName":"登录创建"}
2025-07-28 17:24:45 [INFO]: Access token created successfully {"component":"Database","tokenId":"3c593ec8-01c5-4f88-a4ee-2072add0fa6f","userId":"407cb62c-d440-4142-890f-42023f735089","deviceType":"web"}
2025-07-28 17:24:45 [INFO]: User login successful {"component":"AuthenticationService","userId":"407cb62c-d440-4142-890f-42023f735089","username":"testuserpw2","tokenId":"3c593ec8-01c5-4f88-a4ee-2072add0fa6f"}
2025-07-28 17:24:45 [INFO]: User logged in successfully {"component":"AuthenticationService","userId":"407cb62c-d440-4142-890f-42023f735089","username":"testuserpw2"}
2025-07-28 17:24:45 [INFO]: POST /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:24:45 [WARN]: Request validation failed {"path":"/","method":"POST","errors":[{"field":"tokenName","message":"\"tokenName\" is required"},{"field":"deviceType","message":"\"deviceType\" is required"}],"ip":"127.0.0.1"}
2025-07-28 17:25:46 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:25:53 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:25:53 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:25:53 [INFO]: GET /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:25:53 [INFO]: Fetching user tokens {"component":"TokenController","userId":"407cb62c-d440-4142-890f-42023f735089","includeInactive":false}
2025-07-28 17:26:02 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:26:09 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:26:21 [INFO]: POST /api/v1/auth/login {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:26:21 [INFO]: User login attempt {"component":"AuthenticationService","username":"testuserpw2"}
2025-07-28 17:26:21 [INFO]: User login attempt {"component":"AuthenticationService","username":"testuserpw2","deviceType":"web"}
2025-07-28 17:26:21 [INFO]: Last login updated {"component":"Database","userId":"407cb62c-d440-4142-890f-42023f735089"}
2025-07-28 17:26:21 [INFO]: Creating new access token {"component":"Database","userId":"407cb62c-d440-4142-890f-42023f735089","deviceType":"web","tokenName":"登录创建"}
2025-07-28 17:26:21 [INFO]: Access token created successfully {"component":"Database","tokenId":"6ab821c4-a11f-4229-bdef-a6b19069e2d9","userId":"407cb62c-d440-4142-890f-42023f735089","deviceType":"web"}
2025-07-28 17:26:21 [INFO]: User login successful {"component":"AuthenticationService","userId":"407cb62c-d440-4142-890f-42023f735089","username":"testuserpw2","tokenId":"6ab821c4-a11f-4229-bdef-a6b19069e2d9"}
2025-07-28 17:26:21 [INFO]: User logged in successfully {"component":"AuthenticationService","userId":"407cb62c-d440-4142-890f-42023f735089","username":"testuserpw2"}
2025-07-28 17:26:21 [INFO]: POST /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:26:21 [INFO]: Creating new token {"component":"TokenController","userId":"407cb62c-d440-4142-890f-42023f735089","tokenName":"Desktop Client Auto-Generated","deviceType":"desktop"}
2025-07-28 17:26:21 [INFO]: Creating new access token {"component":"AuthenticationService","userId":"407cb62c-d440-4142-890f-42023f735089","deviceType":"desktop","tokenName":"Desktop Client Auto-Generated"}
2025-07-28 17:26:21 [INFO]: Creating new access token {"component":"Database","userId":"407cb62c-d440-4142-890f-42023f735089","deviceType":"desktop","tokenName":"Desktop Client Auto-Generated"}
2025-07-28 17:26:21 [INFO]: Access token created successfully {"component":"Database","tokenId":"79eedd8f-4c93-490d-96b9-6e0005584f6b","userId":"407cb62c-d440-4142-890f-42023f735089","deviceType":"desktop"}
2025-07-28 17:26:21 [INFO]: Access token created successfully {"component":"AuthenticationService","userId":"407cb62c-d440-4142-890f-42023f735089","tokenId":"79eedd8f-4c93-490d-96b9-6e0005584f6b"}
2025-07-28 17:26:21 [INFO]: Token created successfully {"component":"TokenController","userId":"407cb62c-d440-4142-890f-42023f735089","tokenId":"79eedd8f-4c93-490d-96b9-6e0005584f6b","tokenName":"Desktop Client Auto-Generated"}
2025-07-28 17:28:05 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:28:06 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:28:06 [INFO]: GET /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:28:06 [INFO]: Fetching user tokens {"component":"TokenController","userId":"407cb62c-d440-4142-890f-42023f735089","includeInactive":false}
2025-07-28 17:28:08 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:28:12 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:28:26 [INFO]: POST /api/v1/auth/login {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:28:26 [INFO]: User login attempt {"component":"AuthenticationService","username":"testuserpw2"}
2025-07-28 17:28:26 [INFO]: User login attempt {"component":"AuthenticationService","username":"testuserpw2","deviceType":"web"}
2025-07-28 17:28:26 [INFO]: Last login updated {"component":"Database","userId":"407cb62c-d440-4142-890f-42023f735089"}
2025-07-28 17:28:26 [INFO]: Creating new access token {"component":"Database","userId":"407cb62c-d440-4142-890f-42023f735089","deviceType":"web","tokenName":"登录创建"}
2025-07-28 17:28:26 [INFO]: Access token created successfully {"component":"Database","tokenId":"463a1ed1-f8e2-4574-bd04-01b2b4710950","userId":"407cb62c-d440-4142-890f-42023f735089","deviceType":"web"}
2025-07-28 17:28:26 [INFO]: User login successful {"component":"AuthenticationService","userId":"407cb62c-d440-4142-890f-42023f735089","username":"testuserpw2","tokenId":"463a1ed1-f8e2-4574-bd04-01b2b4710950"}
2025-07-28 17:28:26 [INFO]: User logged in successfully {"component":"AuthenticationService","userId":"407cb62c-d440-4142-890f-42023f735089","username":"testuserpw2"}
2025-07-28 17:28:26 [INFO]: POST /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:28:26 [INFO]: Creating new token {"component":"TokenController","userId":"407cb62c-d440-4142-890f-42023f735089","tokenName":"Desktop Client Auto-Generated","deviceType":"desktop"}
2025-07-28 17:28:26 [INFO]: Creating new access token {"component":"AuthenticationService","userId":"407cb62c-d440-4142-890f-42023f735089","deviceType":"desktop","tokenName":"Desktop Client Auto-Generated"}
2025-07-28 17:28:26 [INFO]: Creating new access token {"component":"Database","userId":"407cb62c-d440-4142-890f-42023f735089","deviceType":"desktop","tokenName":"Desktop Client Auto-Generated"}
2025-07-28 17:28:26 [INFO]: Access token created successfully {"component":"Database","tokenId":"1b5d6be4-a2a7-482b-9401-ab1836b2f097","userId":"407cb62c-d440-4142-890f-42023f735089","deviceType":"desktop"}
2025-07-28 17:28:26 [INFO]: Access token created successfully {"component":"AuthenticationService","userId":"407cb62c-d440-4142-890f-42023f735089","tokenId":"1b5d6be4-a2a7-482b-9401-ab1836b2f097"}
2025-07-28 17:28:26 [INFO]: Token created successfully {"component":"TokenController","userId":"407cb62c-d440-4142-890f-42023f735089","tokenId":"1b5d6be4-a2a7-482b-9401-ab1836b2f097","tokenName":"Desktop Client Auto-Generated"}
2025-07-28 17:28:35 [INFO]: GET /api/v1/tokens/current {"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"}
2025-07-28 17:34:59 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:34:59 [INFO]: GET /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:34:59 [INFO]: Fetching user tokens {"component":"TokenController","userId":"407cb62c-d440-4142-890f-42023f735089","includeInactive":false}
2025-07-28 17:35:02 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:35:04 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:35:05 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:35:11 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:35:11 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:35:30 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:37:14 [INFO]: SIGINT received, shutting down gracefully
2025-07-28 17:37:14 [INFO]: WebSocket server closed {"component":"WebSocket"}
2025-07-28 17:37:14 [INFO]: Database connection closed {"component":"Database"}
2025-07-28 17:37:28 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 17:37:28 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 17:37:28 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 17:37:28 [INFO]: Database connected successfully
2025-07-28 17:37:28 [INFO]: Services initialized and registered successfully
2025-07-28 17:37:28 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 17:37:28 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 17:37:28 [INFO]: WebSocket service initialized
2025-07-28 17:37:28 [INFO]: Application initialized successfully
2025-07-28 17:37:28 [INFO]: Server started on 0.0.0.0:3000
2025-07-28 17:38:40 [INFO]: GET /api/v1/tokens/current {"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"}
2025-07-28 17:38:53 [INFO]: GET /api/v1/tokens/current {"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"}
2025-07-28 17:39:45 [INFO]: GET /api/v1/tokens/current {"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"}
2025-07-28 17:40:30 [INFO]: GET /api/v1/tokens/current {"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"}
2025-07-28 17:41:45 [INFO]: GET /api/v1/tokens/current {"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"}
2025-07-28 17:42:15 [INFO]: GET /api/v1/tokens/current {"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"}
2025-07-28 17:42:55 [INFO]: GET /api/v1/tokens/current {"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"}
2025-07-28 17:43:00 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:43:00 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:43:05 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:43:05 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:43:10 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:43:10 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:43:15 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:43:15 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:43:20 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:43:20 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:43:25 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:43:25 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:43:30 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:43:30 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:43:35 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:43:35 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:43:40 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:43:40 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:43:45 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:43:45 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:46:13 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 17:46:13 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 17:46:13 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 17:46:13 [INFO]: Database connected successfully
2025-07-28 17:46:13 [INFO]: Services initialized and registered successfully
2025-07-28 17:46:13 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 17:46:13 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 17:46:13 [INFO]: WebSocket service initialized
2025-07-28 17:46:13 [INFO]: Application initialized successfully
2025-07-28 17:46:13 [ERROR]: WebSocket server error: {"component":"WebSocket","code":"EADDRINUSE","errno":-4091,"syscall":"listen","address":"0.0.0.0","port":3000}
2025-07-28 17:46:52 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 17:46:52 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 17:46:52 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 17:46:52 [INFO]: Database connected successfully
2025-07-28 17:46:52 [INFO]: Services initialized and registered successfully
2025-07-28 17:46:52 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 17:46:52 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 17:46:52 [INFO]: WebSocket service initialized
2025-07-28 17:46:52 [INFO]: Application initialized successfully
2025-07-28 17:46:52 [ERROR]: WebSocket server error: {"component":"WebSocket","code":"EADDRINUSE","errno":-4091,"syscall":"listen","address":"0.0.0.0","port":3000}
2025-07-28 17:47:46 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 17:47:46 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 17:47:46 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 17:47:46 [INFO]: Database connected successfully
2025-07-28 17:47:46 [INFO]: Services initialized and registered successfully
2025-07-28 17:47:46 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 17:47:46 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 17:47:46 [INFO]: WebSocket service initialized
2025-07-28 17:47:46 [INFO]: Application initialized successfully
2025-07-28 17:47:46 [INFO]: Server started on 0.0.0.0:3000
2025-07-28 17:48:29 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 17:48:29 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 17:48:29 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 17:48:29 [INFO]: Database connected successfully
2025-07-28 17:48:29 [INFO]: Services initialized and registered successfully
2025-07-28 17:48:29 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 17:48:29 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 17:48:29 [INFO]: WebSocket service initialized
2025-07-28 17:48:29 [INFO]: Application initialized successfully
2025-07-28 17:48:29 [INFO]: Server started on 0.0.0.0:3000
2025-07-28 17:48:45 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:48:45 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:50:41 [INFO]: SIGINT received, shutting down gracefully
2025-07-28 17:50:41 [INFO]: WebSocket server closed {"component":"WebSocket"}
2025-07-28 17:50:41 [INFO]: Database connection closed {"component":"Database"}
2025-07-28 17:54:13 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 17:54:13 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 17:54:13 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 17:54:13 [INFO]: Database connected successfully
2025-07-28 17:54:13 [INFO]: Services initialized and registered successfully
2025-07-28 17:54:13 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 17:54:13 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 17:54:13 [INFO]: WebSocket service initialized
2025-07-28 17:54:13 [INFO]: Application initialized successfully
2025-07-28 17:54:13 [INFO]: Server started on 0.0.0.0:3000
2025-07-28 17:54:34 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:54:46 [INFO]: POST /api/v1/auth/login {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:54:46 [INFO]: User login attempt {"component":"AuthenticationService","username":"loadingi"}
2025-07-28 17:54:46 [INFO]: User login attempt {"component":"AuthenticationService","username":"loadingi","deviceType":"web"}
2025-07-28 17:54:48 [INFO]: Last login updated {"component":"Database","userId":"6cc2e553-3ba8-45dd-84b2-5bb357cd633c"}
2025-07-28 17:54:48 [INFO]: Creating new access token {"component":"Database","userId":"6cc2e553-3ba8-45dd-84b2-5bb357cd633c","deviceType":"web","tokenName":"登录创建"}
2025-07-28 17:54:48 [INFO]: Access token created successfully {"component":"Database","tokenId":"aa1233a4-0359-44a4-b548-2700d3ec7e9d","userId":"6cc2e553-3ba8-45dd-84b2-5bb357cd633c","deviceType":"web"}
2025-07-28 17:54:48 [INFO]: User login successful {"component":"AuthenticationService","userId":"6cc2e553-3ba8-45dd-84b2-5bb357cd633c","username":"loadingi","tokenId":"aa1233a4-0359-44a4-b548-2700d3ec7e9d"}
2025-07-28 17:54:48 [INFO]: User logged in successfully {"component":"AuthenticationService","userId":"6cc2e553-3ba8-45dd-84b2-5bb357cd633c","username":"loadingi"}
2025-07-28 17:54:48 [INFO]: POST /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:54:48 [INFO]: Creating new token {"component":"TokenController","userId":"6cc2e553-3ba8-45dd-84b2-5bb357cd633c","tokenName":"Desktop Client Auto-Generated","deviceType":"desktop"}
2025-07-28 17:54:48 [INFO]: Creating new access token {"component":"AuthenticationService","userId":"6cc2e553-3ba8-45dd-84b2-5bb357cd633c","deviceType":"desktop","tokenName":"Desktop Client Auto-Generated"}
2025-07-28 17:54:48 [INFO]: Creating new access token {"component":"Database","userId":"6cc2e553-3ba8-45dd-84b2-5bb357cd633c","deviceType":"desktop","tokenName":"Desktop Client Auto-Generated"}
2025-07-28 17:54:48 [INFO]: Access token created successfully {"component":"Database","tokenId":"ebdbe4bc-eb9a-4ec3-9fd2-b50e7d09db46","userId":"6cc2e553-3ba8-45dd-84b2-5bb357cd633c","deviceType":"desktop"}
2025-07-28 17:54:48 [INFO]: Access token created successfully {"component":"AuthenticationService","userId":"6cc2e553-3ba8-45dd-84b2-5bb357cd633c","tokenId":"ebdbe4bc-eb9a-4ec3-9fd2-b50e7d09db46"}
2025-07-28 17:54:48 [INFO]: Token created successfully {"component":"TokenController","userId":"6cc2e553-3ba8-45dd-84b2-5bb357cd633c","tokenId":"ebdbe4bc-eb9a-4ec3-9fd2-b50e7d09db46","tokenName":"Desktop Client Auto-Generated"}
2025-07-28 17:55:06 [INFO]: GET /api/v1/tokens/current {"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"}
2025-07-28 17:55:06 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:55:06 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:55:11 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:55:11 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:55:16 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:55:16 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:55:21 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:55:21 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:55:26 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:55:26 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:55:55 [INFO]: GET /api/v1/tokens/current {"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"}
2025-07-28 17:55:56 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:55:56 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:56:01 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:56:01 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:56:06 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:56:06 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:56:11 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:56:11 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:56:16 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:56:16 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:56:21 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:56:21 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:56:26 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:56:26 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:56:31 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:56:31 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:56:36 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:56:36 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:56:41 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:56:41 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:56:55 [INFO]: GET /api/v1/tokens/current {"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"}
2025-07-28 17:57:07 [INFO]: GET /api/v1/tokens/current {"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"}
2025-07-28 17:57:07 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:57:07 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:57:12 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:57:12 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:57:17 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:57:17 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:57:22 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:57:22 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:57:27 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:57:27 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:57:32 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:57:32 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:57:37 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:57:37 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:57:42 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:57:42 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:57:47 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:57:47 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:57:52 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:57:52 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:57:57 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:57:57 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:58:03 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:58:03 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:58:20 [INFO]: GET /api/v1/tokens/current {"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"}
2025-07-28 17:58:21 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:58:21 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:58:26 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:58:26 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:58:31 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:58:31 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:58:36 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:58:36 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:58:41 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:58:41 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:58:46 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:58:46 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:58:51 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:58:51 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:58:56 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:58:56 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:59:01 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:59:01 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:59:06 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:59:06 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:59:11 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:59:11 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:59:24 [INFO]: GET /api/v1/tokens/current {"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"}
2025-07-28 17:59:24 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:59:24 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:59:29 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:59:29 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:59:34 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:59:34 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:59:40 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:59:40 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:59:45 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:59:45 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:59:50 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:59:50 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 17:59:54 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 17:59:55 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 17:59:55 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:00:00 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 18:00:00 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:00:05 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 18:00:05 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:00:10 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 18:00:10 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:00:15 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 18:00:15 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:00:20 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 18:00:20 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:00:25 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 18:00:25 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:00:30 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 18:00:30 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:00:35 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 18:00:35 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:00:40 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 18:00:40 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:00:45 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 18:00:45 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:00:50 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 18:00:50 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:00:56 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 18:00:56 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:01:02 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 18:01:02 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:01:07 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 18:01:07 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:01:12 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 18:01:12 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:01:17 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 18:01:17 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:01:22 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 18:01:22 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:01:27 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 18:01:27 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:01:32 [WARN]: WebSocket connection rejected: No token provided {"component":"WebSocket"}
2025-07-28 18:01:32 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:03:31 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 18:03:31 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 18:03:31 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 18:03:31 [INFO]: Database connected successfully
2025-07-28 18:03:31 [INFO]: Services initialized and registered successfully
2025-07-28 18:03:31 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 18:03:31 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 18:03:31 [INFO]: WebSocket service initialized
2025-07-28 18:03:31 [INFO]: Application initialized successfully
2025-07-28 18:03:31 [INFO]: Server started on 0.0.0.0:3000
2025-07-28 18:03:37 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 18:03:38 [INFO]: GET /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 18:03:38 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 18:03:38 [INFO]: Fetching user tokens {"component":"TokenController","userId":"6cc2e553-3ba8-45dd-84b2-5bb357cd633c","includeInactive":false}
2025-07-28 18:03:56 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 18:03:56 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 18:03:56 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 18:03:56 [INFO]: Database connected successfully
2025-07-28 18:03:56 [INFO]: Services initialized and registered successfully
2025-07-28 18:03:56 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 18:03:56 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 18:03:56 [INFO]: WebSocket service initialized
2025-07-28 18:03:56 [INFO]: Application initialized successfully
2025-07-28 18:03:56 [INFO]: Server started on 0.0.0.0:3000
2025-07-28 18:04:05 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 18:04:06 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 18:04:06 [INFO]: GET /api/v1/tokens {"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0"}
2025-07-28 18:04:06 [INFO]: Fetching user tokens {"component":"TokenController","userId":"6cc2e553-3ba8-45dd-84b2-5bb357cd633c","includeInactive":false}
2025-07-28 18:04:26 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"curl/8.13.0"}
2025-07-28 18:05:08 [INFO]: GET /api/v1/tokens/current {"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"}
2025-07-28 18:05:09 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:05:09 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:05:09 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:05:14 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:05:14 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:05:14 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:05:19 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:05:19 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:05:19 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:05:24 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:05:24 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:05:24 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:05:29 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:05:29 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:05:29 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:05:34 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:05:34 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:05:34 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:05:39 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:05:39 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:05:39 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:05:44 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:05:44 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:05:44 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:05:49 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:05:49 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:05:49 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:05:54 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:05:54 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:05:54 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:06:00 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:06:00 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:06:00 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:06:05 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:06:05 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:06:05 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:06:10 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:06:10 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:06:10 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:06:15 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:06:15 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:06:15 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:07:36 [INFO]: GET /api/v1/tokens/current {"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"}
2025-07-28 18:07:36 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:07:36 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:07:36 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:07:41 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:07:41 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:07:41 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:07:46 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:07:46 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:07:46 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:07:51 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:07:51 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:07:51 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:07:56 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:07:56 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:07:56 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:08:01 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:08:01 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:08:01 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:08:06 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:08:06 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:08:06 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:08:11 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:08:11 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:08:11 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:08:17 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:08:17 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:08:17 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:09:24 [INFO]: GET /api/v1/tokens/current {"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"}
2025-07-28 18:12:34 [INFO]: GET /api/v1/tokens/current {"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"}
2025-07-28 18:12:34 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:12:34 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:12:34 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:12:43 [INFO]: GET /api/v1/tokens/current {"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"}
2025-07-28 18:12:43 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:12:43 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:12:43 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:12:54 [INFO]: GET /api/v1/tokens/current {"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"}
2025-07-28 18:12:55 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:12:55 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:12:55 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:13:00 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:13:00 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:13:00 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:13:05 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:13:05 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:13:05 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:13:10 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:13:10 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:13:10 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:13:15 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:13:15 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:13:15 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:13:39 [INFO]: GET /api/v1/tokens/current {"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"}
2025-07-28 18:13:40 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:13:40 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:13:40 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:13:45 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:13:45 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:13:45 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:13:50 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:13:50 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:13:50 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:13:55 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:13:55 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:13:55 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:14:00 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:14:00 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:14:00 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:14:05 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:14:05 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:14:05 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:14:10 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:14:10 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:14:10 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:14:15 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:14:15 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:14:15 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:14:20 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:14:20 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:14:20 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:14:38 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"curl/8.13.0"}
2025-07-28 18:15:06 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 18:15:06 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 18:15:06 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 18:15:06 [INFO]: Database connected successfully
2025-07-28 18:15:06 [INFO]: Services initialized and registered successfully
2025-07-28 18:15:06 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 18:15:06 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 18:15:06 [INFO]: WebSocket service initialized
2025-07-28 18:15:06 [INFO]: Application initialized successfully
2025-07-28 18:15:06 [INFO]: Server started on 0.0.0.0:3000
2025-07-28 18:16:57 [INFO]: GET /api/v1/tokens/current {"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"}
2025-07-28 18:16:57 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:16:57 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:16:57 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:17:44 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 18:17:44 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 18:17:44 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 18:17:44 [INFO]: Database connected successfully
2025-07-28 18:17:44 [INFO]: Services initialized and registered successfully
2025-07-28 18:17:44 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 18:17:44 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 18:17:44 [INFO]: WebSocket service initialized
2025-07-28 18:17:44 [INFO]: Application initialized successfully
2025-07-28 18:17:44 [ERROR]: WebSocket server error: {"component":"WebSocket","code":"EADDRINUSE","errno":-4091,"syscall":"listen","address":"0.0.0.0","port":3000}
2025-07-28 18:18:26 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 18:18:26 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 18:18:26 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 18:18:26 [INFO]: Database connected successfully
2025-07-28 18:18:26 [INFO]: Services initialized and registered successfully
2025-07-28 18:18:26 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 18:18:26 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 18:18:26 [INFO]: WebSocket service initialized
2025-07-28 18:18:26 [INFO]: Application initialized successfully
2025-07-28 18:18:26 [INFO]: Server started on 0.0.0.0:3000
2025-07-28 18:18:57 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 18:18:57 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 18:18:57 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 18:18:57 [INFO]: Database connected successfully
2025-07-28 18:18:57 [INFO]: Services initialized and registered successfully
2025-07-28 18:18:57 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 18:18:57 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 18:18:57 [INFO]: WebSocket service initialized
2025-07-28 18:18:57 [INFO]: Application initialized successfully
2025-07-28 18:18:57 [INFO]: Server started on 0.0.0.0:3000
2025-07-28 18:19:35 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"curl/8.13.0"}
2025-07-28 18:20:01 [INFO]: GET /api/v1/tokens/current {"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"}
2025-07-28 18:20:02 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:20:02 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:20:02 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:20:07 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:20:07 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:20:07 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:20:12 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:20:12 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:20:12 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:20:17 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:20:17 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:20:17 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:20:22 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:20:22 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:20:22 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:20:27 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:20:27 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:20:27 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:20:32 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:20:32 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:20:32 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:20:37 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:20:37 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:20:37 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:20:42 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:20:42 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:20:42 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:21:04 [INFO]: GET /api/v1/tokens/current {"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"}
2025-07-28 18:21:04 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:21:04 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:21:04 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:21:09 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:21:09 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:21:09 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:21:14 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:21:14 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:21:14 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:21:19 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:21:19 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:21:19 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:21:24 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:21:24 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:21:24 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:21:29 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:21:29 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:21:29 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:21:34 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:21:34 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:21:34 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:21:40 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:21:40 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:21:40 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:21:45 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:21:45 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:21:45 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:21:50 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:21:50 [WARN]: Token verification failed: {"0":"I","1":"n","2":"v","3":"a","4":"l","5":"i","6":"d","7":" ","8":"o","9":"r","10":" ","11":"e","12":"x","13":"p","14":"i","15":"r","16":"e","17":"d","18":" ","19":"t","20":"o","21":"k","22":"e","23":"n","component":"AuthenticationService"}
2025-07-28 18:21:50 [WARN]: WebSocket connection rejected: Token verification failed {"component":"WebSocket","error":"Invalid or expired token"}
2025-07-28 18:22:41 [INFO]: GET /api/v1/tokens/current {"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"}
2025-07-28 18:22:41 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:22:41 [INFO]: WebSocket connection authorized {"component":"WebSocket","userId":"407cb62c-d440-4142-890f-42023f735089","username":"testuserpw2","tokenId":"1b5d6be4-a2a7-482b-9401-ab1836b2f097","deviceType":"desktop"}
2025-07-28 18:25:09 [INFO]: Connecting to database {"component":"Database","type":"sqlite","connectionString":"sqlite:./data/msync.db"}
2025-07-28 18:25:09 [INFO]: SQLite database connected {"component":"Database","path":"E:\\coding\\M-SYNC\\server\\data\\msync.db"}
2025-07-28 18:25:09 [INFO]: Database connected successfully {"component":"Database"}
2025-07-28 18:25:09 [INFO]: Database connected successfully
2025-07-28 18:25:09 [INFO]: Services initialized and registered successfully
2025-07-28 18:25:09 [INFO]: WebSocket heartbeat started {"component":"WebSocket","interval":30000}
2025-07-28 18:25:09 [INFO]: WebSocket server initialized {"component":"WebSocket","path":"/ws/subscribe","heartbeatInterval":30000}
2025-07-28 18:25:09 [INFO]: WebSocket service initialized
2025-07-28 18:25:09 [INFO]: Application initialized successfully
2025-07-28 18:25:10 [INFO]: Server started on 0.0.0.0:3000
2025-07-28 18:25:28 [INFO]: GET /api/v1/health {"ip":"127.0.0.1","userAgent":"curl/8.13.0"}
2025-07-28 18:25:44 [INFO]: GET /api/v1/tokens/current {"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"}
2025-07-28 18:25:44 [ERROR]: Failed to handle WebSocket connection: {"component":"WebSocket"}
2025-07-28 18:25:44 [INFO]: WebSocket connection authorized {"component":"WebSocket","userId":"407cb62c-d440-4142-890f-42023f735089","username":"testuserpw2","tokenId":"1b5d6be4-a2a7-482b-9401-ab1836b2f097","deviceType":"desktop"}
